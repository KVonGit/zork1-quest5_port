<?xml version="1.0"?>
<!--
  DUNGEON for ZORK 1
-->
<library>

<!--
    NOTE:
          The IN property has been replaced by the LOC attribute, because Quest
          will not apply an attribute named IN.
-->


<!--
    ;"All globals (and constants) are attributes of an object named GLOBAL."
    ;"This includes directions."
    ;"See the file z1globals.aslx."

  <DIRECTIONS NORTH EAST WEST SOUTH NE NW SE SW UP DOWN IN OUT LAND>

  <GLOBAL SCORE-MAX 350>

  <GLOBAL FALSE-FLAG <>>
-->

<!--
    SUBTITLE OBJECTS
-->

  
  <object name="TROPHY_CASE"><!--;"first obj so L.R. desc looks right."-->
    <inherit name="editor_object" />
    <parent type="object">LIVING_ROOM</parent>
    <LOC type="object">LIVING_ROOM</LOC>
    <alias>trophy case</alias>
    <scenery type="boolean">false</scenery>
    <TRANSBIT />
    <CONTBIT />
    <NDESCBIT />
    <TRYTAKEBIT />
    <SEARCHBIT type="boolean">false</SEARCHBIT>
    <ACTION>TROPHY_CASE_FCN</ACTION>
    <CAPACITY type="int">10000</CAPACITY>
    <SIZE type="int">0</SIZE>
    <SYNONYM>CASE</SYNONYM>
    <ADJECTIVE>TROPHY</ADJECTIVE>
    <FLAGS>TRANSBIT CONTBIT NDESCBIT TRYTAKEBIT SEARCHBIT</FLAGS>
    <displayverbs type="stringlist">
      <value>Examine</value>
    </displayverbs>
  </object>

  <object name="BOARD">
    <inherit name="editor_object" />
    <parent type="object">LOCAL_GLOBALS</parent>
    <LOC type="object">LOCAL_GLOBALS</LOC>
    <alias>board</alias>
    <scenery />
    <alt type="stringlist">
      <value>boards</value>
    </alt>
    <ACTION>BOARD_F</ACTION>
    <SYNONYM>BOARDS BOARD</SYNONYM>
    <FLAGS>NDESCBIT</FLAGS>
    <NDESCBIT />
  </object>

  <object name="TEETH">
    <inherit name="editor_object" />
    <parent type="object">GLOBAL_OBJECTS</parent>
    <LOC type="object">GLOBAL_OBJECTS</LOC>
    <alias>set of teeth</alias>
    <scenery />
    <alt type="stringlist">
      <value>overboard</value>
    </alt>
    <ACTION>TEETH_F</ACTION>
    <SYNONYM>OVERBOARD TEETH</SYNONYM>
    <FLAGS>NDESCBIT</FLAGS>
    <NDESCBIT />
  </object>

  <object name="WALL">
    <inherit name="editor_object" />
    <parent type="object">GLOBAL_OBJECTS</parent>
    <LOC type="object">GLOBAL_OBJECTS</LOC>
    <alias>surrounding wall</alias>
    <alt type="stringlist">
      <value>surrounding walls</value>
    </alt>
    <scenery />
    <SYNONYM>WALL WALLS</SYNONYM>
    <ADJECTIVE>SURROUNDING</ADJECTIVE>
  </object>

  <object name="GRANITE_WALL">
    <inherit name="editor_object" />
    <parent type="object">GLOBAL_OBJECTS</parent>
    <LOC type="object">GLOBAL_OBJECTS</LOC>
    <alias>granite wall</alias>
    <ACTION>GRANITE_WALL_F</ACTION>
    <scenery />
    <SYNONYM>WALL</SYNONYM>
    <ADJECTIVE>GRANITE</ADJECTIVE>
  </object>

  <object name="SONGBIRD">
    <inherit name="editor_object" />
    <alias>songbird</alias>
    <parent type="object">LOCAL_GLOBALS</parent>
    <LOC type="object">LOCAL_GLOBALS</LOC>
    <alt type="stringlist">
      <value>bird</value>
    </alt>
    <scenery />
    <ACTION>SONGBIRD_F</ACTION>
    <SYNONYM>BIRD SONGBIRD</SYNONYM>
    <ADJECTIVE>SONG</ADJECTIVE>
    <FLAGS>NDESCBIT</FLAGS>
    <NDESCBIT />
  </object>
  
  <object name="WHITE_HOUSE">
    <inherit name="editor_object" />
    <parent type="object">LOCAL_GLOBALS</parent>
    <LOC type="object">LOCAL_GLOBALS</LOC>
    <alias>white house</alias>
    <scenery />
    <alt type="stringlist">
      <value>beautiful house</value>
      <value>colonial house</value>
    </alt>
    <ACTION>WHITE_HOUSE_F</ACTION>
    <SYNONYM>HOUSE</SYNONYM>
    <ADJECTIVE>WHITE BEAUTI COLONI</ADJECTIVE>
    <FLAGS>NDESCBIT</FLAGS>
    <NDESCBIT />
  </object>
  
  <object name="FOREST">
    <inherit name="editor_object" />
    <parent type="object">LOCAL_GLOBALS</parent>
    <LOC type="object">LOCAL_GLOBALS</LOC>
    <alias>forest</alias>
    <scenery />
    <alt type="stringlist">
      <value>trees</value>
      <value>pines</value>
      <value>hemlocks</value>
    </alt>
    <SYNONYM>FOREST TREES PINES HEMLOCKS</SYNONYM>
    <FLAGS>NDESCBIT</FLAGS>
    <NDESCBIT />
    <ACTION>FOREST_F</ACTION>
  </object>
  
  <object name="TREE">
    <inherit name="editor_object" />
    <parent type="object">LOCAL_GLOBALS</parent>
    <LOC type="object">LOCAL_GLOBALS</LOC>
    <alias>tree</alias>
    <scenery />
    <alt type="stringlist">
      <value>branch</value>
      <value>large tree</value>
      <value>large branch</value>
      <value>storm tree</value>
      <value>storm branch</value>
    </alt>
    <CLIMBBIT />
    <SYNONYM>TREE BRANCH</SYNONYM>
    <ADJECTIVE>LARGE STORM</ADJECTIVE>
    <FLAGS>NDESCBIT CLIMBBIT</FLAGS>
    <NDESCBIT />
  </object>

  <object name="MOUNTAIN_RANGE">
    <inherit name="editor_object" />
    <parent type="object">MOUNTAINS</parent>
    <LOC type="object">MOUNTAINS</LOC>
    <alias>mountain range</alias>
    <alt type="stringlist">
      <value>impassable mountain range</value>
      <value>flathead mountain range</value>
    </alt>
    <CLIMBBIT />
    <scenery />
    <FLAGS>NDESCBIT CLIMBBIT</FLAGS>
    <SYNONYM>MOUNTAIN RANGE</SYNONYM>
    <ADJECTIVE>IMPASSABLE FLATHEAD</ADJECTIVE>
    <NDESCBIT />
    <ACTION>MOUNTAIN_RANGE_F</ACTION>
  </object>

  <object name="GLOBAL_WATER">
    <inherit name="editor_object" />
    <parent type="object">LOCAL_GLOBALS</parent>
    <LOC type="object">LOCAL_GLOBALS</LOC>
    <alias>water</alias>
    <alt type="stringlist">
      <value>quantity</value>
    </alt>
    <DRINKBIT />
    <ACTION>WATER_F</ACTION>
    <SYNONYM>WATER QUANTITY</SYNONYM>
    <FLAGS>DRINKBIT</FLAGS>
  </object>

  <object name="WATER">
    <inherit name="editor_object" />
    <parent type="object">BOTTLE</parent>
    <LOC type="object">BOTTLE</LOC>
    <alias>quantity of water</alias>
    <alt type="stringlist">
      <value>liquid</value>
      <value>h20</value>
    </alt>
    <TRYTAKEBIT />
    <TAKEBIT />
    <DRINKBIT />
    <ACTION>WATER_F</ACTION>
    <SIZE type="int">4</SIZE>
    <SYNONYM>WATER QUANTITY LIQUID H2O</SYNONYM>
    <FLAGS>TRYTAKEBIT TAKEBIT DRINKBIT</FLAGS>
  </object>

  <object name="KITCHEN_WINDOW">
    <inherit name="editor_object" />
    <parent type="object">LOCAL_GLOBALS</parent>
    <LOC type="object">LOCAL_GLOBALS</LOC>
    <inherit name="openable" />
    <scenery type="boolean">false</scenery>
    <alias>kitchen window</alias>
    <DOORBIT />
    <NDESCBIT />
    <alt type="stringlist">
      <value>small window</value>
    </alt>
    <ACTION>KITCHEN_WINDOW_F</ACTION>
    <feature_container />
    <OPENBIT type="boolean">false</OPENBIT>
    <SYNONYM>WINDOW</SYNONYM>
    <ADJECTIVE>KITCHEN SMALL</ADJECTIVE>
    <FLAGS>DOORBIT NDESCBIT</FLAGS>
    <displayverbs type="stringlist">
      <value>Examine</value>
    </displayverbs>
    <not_all />
  </object>

  <object name="CHIMNEY">
    <inherit name="editor_object" />
    <parent type="object">LOCAL_GLOBALS</parent>
    <LOC type="object">LOCAL_GLOBALS</LOC>
    <alias>chimney</alias>
    <scenery />
    <alt type="stringlist">
      <value>long narrow chimney</value>
    </alt>
    <ACTION>CHIMNEY_F</ACTION>
    <NDESCBIT />
    <SYNONYM>CHIMNEY</SYNONYM>
    <ADJECTIVE>DARK NARROW</ADJECTIVE>
    <FLAGS>CLIMBBIT NDESCBIT</FLAGS>
  </object>

  <object name="GHOSTS">
    <inherit name="editor_object" />
    <parent type="object">ENTRANCE_TO_HADES</parent>
    <LOC type="object">ENTRANCE_TO_HADES</LOC>
    <alias>number of ghosts</alias>
    <ACTORBIT />
    <NDESCBIT />
    <ACTION>GHOSTS_F</ACTION>
    <alt type="stringlist">
      <value>invisible evil ghosts</value>
      <value>invisible evil spirits</value>
      <value>invisible evil fiends</value>
      <value>invisible evil force</value>
    </alt>
    <SYNONYM>GHOSTS SPIRITS FIENDS FORCE</SYNONYM>
    <ADJECTIVE>INVISIBLE EVIL</ADJECTIVE>
    <FLAGS>ACTORBIT NDESCBIT</FLAGS>
  </object>

  <object name="SKULL">
    <inherit name="editor_object" />
    <parent type="object">LAND_OF_LIVING_DEAD</parent>
    <LOC type="object">LAND_OF_LIVING_DEAD</LOC>
    <alias>crystal skull</alias>
    <alt type="stringlist">
      <value>crystal head</value>
      <value>crystal treasure</value>
    </alt>
    <take />
    <TAKEBIT />
    <VALUE type="int">10</VALUE>
    <TVALUE type="int">10</TVALUE>
    <SYNONYM>SKULL HEAD TREASURE</SYNONYM>
    <ADJECTIVE>CRYSTAL</ADJECTIVE>
    <FDESC>Lying in one corner of the room is a beautifully carved crystal skull. It appears to be grinning at you rather nastily.</FDESC>
    <FLAGS>TAKEBIT</FLAGS>
  </object>

  <object name="LOWERED_BASKET">
    <inherit name="editor_object" />
    <parent type="object">LOWER_SHAFT</parent>
    <LOC type="object">LOWER_SHAFT</LOC>
    <alias>basket</alias>
    <alt type="stringlist">
      <value>lowered cage</value>
      <value>lowered dumbwaiter</value>
      <value>lowered basket</value>
    </alt>
    <LDESC>From the chain is suspended a basket.</LDESC>
    <TRYTAKEBIT />
    <ACTION>BASKET_F</ACTION>
    <SYNONYM>CAGE DUMBWAITER BASKET</SYNONYM>
    <ADJECTIVE>LOWERED</ADJECTIVE>
    <FLAGS>TRYTAKEBIT</FLAGS>
  </object>

  <object name="RAISED_BASKET">
    <inherit name="editor_object" />
    <inherit name="container_open" />
    <parent type="object">SHAFT_ROOM</parent>
    <LOC type="object">SHAFT_ROOM</LOC>
    <ACTION type="string">BASKET_F</ACTION>
    <alias>basket</alias>
    <LDESC>At the end of the chain is a basket.</LDESC>
    <alt type="stringlist">
      <value>cage</value>
      <value>dumbwaiter</value>
    </alt>
    <TRANSBIT />
    <TRYTAKEBIT />
    <CONTBIT />
    <OPENBIT />
    <CAPACITY type="int">50</CAPACITY>
    <feature_container />
    <close type="boolean">false</close>
    <open type="boolean">false</open>
    <transparent />
    <SYNONYM type="string">BASKET CAGE DUMBWAITER</SYNONYM>
    <FLAGS>TRANSBIT TRYTAKEBIT CONTBIT OPENBIT</FLAGS>
  </object>

  <object name="LUNCH">
    <inherit name="editor_object" />
    <parent type="object">SANDWICH_BAG</parent>
    <LOC type="object">SANDWICH_BAG</LOC>
    <alias>lunch</alias>
    <take />
    <alt type="stringlist">
      <value>hot pepper food</value>
      <value>hot pepper sandwich</value>
      <value>hot pepper lunch</value>
      <value>hot pepper dinner</value>
    </alt>
    <TAKEBIT />
    <FOODBIT />
    <SYNONYM>FOOD SANDWICH LUNCH DINNER</SYNONYM>
    <ADJECTIVE>HOT PEPPER</ADJECTIVE>
    <FLAGS>TAKEBIT FOODBIT</FLAGS>
    <LDESC>A hot pepper sandwich is here.</LDESC>
  </object>

  <object name="BAT">
    <inherit name="editor_object" />
    <parent type="object">BAT_ROOM</parent>
    <LOC type="object">BAT_ROOM</LOC>
    <inherit name="male" />
    <alias>bat</alias>
    <alt type="stringlist">
      <value>vampire bat</value>
      <value>deranged vampire</value>
      <value>deranged bat</value>
      <value>vampire deranged bat</value>
      <value>vampire deranged vampire</value>
    </alt>
    <ACTORBIT />
    <TRYTAKEBIT />
    <DESCFCN>BAT_D</DESCFCN>
    <ACTION>BAT_F</ACTION>
    <SYNONYM>BAT VAMPIRE</SYNONYM>
    <ADJECTIVE>VAMPIRE DERANGED</ADJECTIVE>
    <FLAGS>ACTORBIT TRYTAKEBIT</FLAGS>
    <look type="script">
      BAT_D
    </look>
  </object>

  <object name="BELL">
    <inherit name="editor_object" />
    <parent type="object">NORTH_TEMPLE</parent>
    <LOC type="object">NORTH_TEMPLE</LOC>
    <alias>brass bell</alias>
    <alt type="stringlist">
      <value>small brass bell</value>
    </alt>
    <take />
    <TAKEBIT />
    <ACTION>BELL_F</ACTION>
    <SYNONYM>BELL</SYNONYM>
    <ADJECTIVE>SMALL BRASS</ADJECTIVE>
    <FLAGS>TAKEBIT</FLAGS>
  </object>

  <object name="HOT_BELL">
    <inherit name="editor_object" />
    <alias>red hot brass bell</alias>
    <alt type="stringlist">
      <value>small brass bell</value>
    </alt>
    <LDESC>On the ground is a red hot bell.</LDESC>
    <take />
    <TAKEBIT />
    <ACTION>BELL_F</ACTION>
    <SYNONYM>BELL</SYNONYM>
    <ADJECTIVE>BRASS HOT RED SMALL</ADJECTIVE>
    <FLAGS>TRYTAKEBIT</FLAGS>
  </object>

  <object name="AXE">
    <inherit name="editor_object" />
    <parent type="object">TROLL</parent>
    <LOC type="object">TROLL</LOC>
    <alt type="stringlist">
      <value>bloody axe</value>
      <value>bloody ax</value>
    </alt>
    <alias>bloody axe</alias>
    <!-- <scenery /> -->
    <WEAPONBIT />
    <TRYTAKEBIT />
    <TAKEBIT />
    <NDESCBIT />
    <take />
    <ACTION>AXE_F</ACTION>
    <SIZE type="int">25</SIZE>
    <SYNONYM>AXE AX</SYNONYM>
    <ADJECTIVE type="string">BLOODY</ADJECTIVE>
    <FLAGS>WEAPONBIT TRYTAKEBIT TAKEBIT NDESCBIT</FLAGS>
  </object>

  <object name="BOLT">
    <inherit name="editor_object" />
    <parent type="object">DAM_ROOM</parent>
    <LOC type="object">DAM_ROOM</LOC>
    <alias>bolt</alias>
    <scenery />
    <NDESCBIT />
    <TURNBIT />
    <TRYTAKEBIT />
    <ACTION>BOLT_F</ACTION>
    <SYNONYM>BOLT NUT</SYNONYM>
    <ADJECTIVE>METAL LARGE</ADJECTIVE>
    <FLAGS>NDESCBIT TURNBIT TRYTAKEBIT</FLAGS>
  </object>

  <object name="BUBBLE">
    <inherit name="editor_object" />
    <parent type="object">DAM_ROOM</parent>
    <LOC type="object">DAM_ROOM</LOC>
    <alias>green bubble</alias>
    <scenery />
    <alt type="stringlist">
      <value>small bubble</value>
      <value>green bubble</value>
      <value>small green plastic bubble</value>
      <value>small plastic bubble</value>
    </alt>
    <NDESCBIT />
    <TRYTAKEBIT />
    <ACTION>BUBBLE_F</ACTION>
    <SYNONYM>BUBBLE</SYNONYM>
    <ADJECTIVE>SMALL GREEN PLASTIC</ADJECTIVE>
    <FLAGS>NDESCBIT TRYTAKEBIT</FLAGS>
  </object>

  <object name="ALTAR">
    <inherit name="editor_object" />
    <inherit name="surface" />
    <parent type="object">SOUTH_TEMPLE</parent>
    <LOC type="object">SOUTH_TEMPLE</LOC>
    <alias>altar</alias>
    <scenery />
    <NDESCBIT />
    <SURFACEBIT />
    <CONTBIT />
    <OPENBIT />
    <feature_container />
    <CAPACITY type="int">50</CAPACITY>
    <SYNONYM>ALTAR</SYNONYM>
    <FLAGS>NDESCBIT SURFACEBIT CONTBIT OPENBIT</FLAGS>
  </object>

  <object name="BOOK">
    <inherit name="editor_object" />
    <inherit name="openable" />
    <parent type="object">ALTAR</parent>
    <LOC type="object">ALTAR</LOC>
    <alias>black book</alias>
    <alt type="stringlist">
      <value>large black book</value>
      <value>large black books</value>
      <value>large book</value>
      <value>large books</value>
      <value>prayer</value>
      <value>page</value>
    </alt>
    <READBIT />
    <TAKEBIT />
    <CONTBIT />
    <BURNBIT />
    <TURNBIT />
    <ACTION>BLACK_BOOK</ACTION>
    <FDESC>On the altar is a large black book, open to page 569.</FDESC>
    <SIZE type="int">10</SIZE>
    <TEXT><![CDATA[Commandment #12592<br/><br/>Oh ye who go about saying unto each:  "Hello sailor":<br/>Dost thou know the magnitude of thy sin before the gods?<br/>Yea, verily, thou shalt be ground between two stones.<br/>Shall the angry gods cast thy body into the whirlpool?<br/>Surely, thy eye shall be put out with a sharp stick!<br/>Even unto the ends of the earth shalt thou wander and<br/>Unto the land of the dead shalt thou be sent at last.<br/>Surely thou shalt repent of thy cunning.]]></TEXT>
    <take />
    <feature_container />
    <isopen />
    <SYNONYM>BOOK PRAYER PAGE BOOKS</SYNONYM>
    <ADJECTIVE type="string">BLACK</ADJECTIVE>
    <FLAGS>READBIT TAKEBIT CONTBIT BURNBIT TURNBIT</FLAGS>
  </object>

  <object name="BROKEN_LAMP">
    <inherit name="editor_object" />
    <alias>broken lantern</alias>
    <take />
    <alt type="stringlist">
      <value>broken lamp</value>
    </alt>
    <TAKEBIT />
    <SYNONYM>LAMP LANTERN</SYNONYM>
    <ADJECTIVE>BROKEN</ADJECTIVE>
    <FLAGS>TAKEBIT</FLAGS>
  </object>

  <object name="SCEPTRE">
    <inherit name="editor_object" />
    <parent type="object">COFFIN</parent>
    <LOC type="object">COFFIN</LOC>
    <ACTION type="string">SCEPTRE_FUNCTION</ACTION>
    <alias>sceptre</alias>
    <alt type="stringlist">
      <value>sharp sceptre</value>
      <value>sharp scepter</value>
      <value>ancient Egyptian treasure</value>
      <value>sharp Egyptian sceptre</value>
      <value>sharp Egyptian scepter</value>
      <value>ancient sceptre</value>
      <value>ancient scepter</value>
      <value>ancient treasure</value>
      <value>enameled sceptre</value>
      <value>enameled scepter</value>
      <value>enameled treasure</value>
    </alt>
    <take />
    <TAKEBIT />
    <WEAPONBIT />
    <LDESC>An ornamented sceptre, tapering to a sharp point, is here.</LDESC>
    <FDESC>A sceptre, possibly that of ancient Egypt itself, is in the coffin. The sceptre is ornamented with colored enamel, and tapers to a sharp point.</FDESC>
    <SIZE type="int">3</SIZE>
    <VALUE type="int">4</VALUE>
    <TVALUE type="int">6</TVALUE>
    <SYNONYM>SCEPTRE SCEPTER TREASUR</SYNONYM>
    <ADJECTIVE type="string">SHARP ANCIENT ENAMELED</ADJECTIVE>
    <FLAGS>TAKEBIT WEAPONBIT</FLAGS>
  </object>

  <object name="TIMBERS">
    <inherit name="editor_object" />
    <parent type="object">TIMBER_ROOM</parent>
    <LOC type="object">TIMBER_ROOM</LOC>
    <alias>broken timber</alias>
    <alt type="stringlist">
      <value>broken wooden timbers</value>
      <value>pile</value>
    </alt>
    <take />
    <TAKEBIT />
    <SIZE type="int">50</SIZE>
    <SYNONYM>TIMBERS PILE</SYNONYM>
    <ADJECTIVE>WOODEN BROKEN</ADJECTIVE>
    <FLAGS>TAKEBIT</FLAGS>
  </object>
 
  <object name="SLIDE">
    <inherit name="editor_object" />
    <parent type="object">LOCAL_GLOBALS</parent>
    <LOC type="object">LOCAL_GLOBALS</LOC>
    <alias>chute</alias>
    <alt type="stringlist">
      <value>steep metal chute</value>
      <value>steep metal slide</value>
      <value>steep metal ramp</value>
      <value>steep chute</value>
      <value>steep ramp</value>
      <value>steep slide</value>
      <value>twisting chute</value>
      <value>twisting ramp</value>
      <value>twisting slide</value>
    </alt>
    <SYNONYM>CHUTE RAMP SLIDE</SYNONYM>
    <ADJECTIVE>STEEP METAL TWISTING</ADJECTIVE>
    <CLIMBBIT />
    <ACTION>SLIDE_FUNCTION</ACTION>
  </object>

  <object name="KITCHEN_TABLE">
    <inherit name="editor_object" />
    <inherit name="surface" />
    <parent type="object">KITCHEN</parent>
    <LOC type="object">KITCHEN</LOC>
    <alias>kitchen table</alias>
    <scenery />
    <feature_container />
    <NDESCBIT />
    <CONTBIT />
    <OPENBIT />
    <SURFACEBIT />
    <FLAGS>NDESCBIT CONTBIT OPENBIT SURFACEBIT</FLAGS>
    <SYNONYM>TABLE</SYNONYM>
    <ADJECTIVE>KITCHEN</ADJECTIVE>
  </object>

  <object name="ATTIC_TABLE">
    <inherit name="editor_object" />
    <inherit name="surface" />
    <parent type="object">ATTIC</parent>
    <LOC type="object">ATTIC</LOC>
    <alias>table</alias>
    <scenery />
    <feature_container />
    <NDESCBIT />
    <CONTBIT />
    <OPENBIT />
    <SURFACEBIT />
    <CAPACITY type="int">40</CAPACITY>
    <SYNONYM>TABLE</SYNONYM>
    <FLAGS>NDESCBIT CONTBIT OPENBIT SURFACEBIT</FLAGS>
  </object>

  <object name="SANDWICH_BAG">
    <inherit name="editor_object" />
    <inherit name="container_closed" />
    <parent type="object">KITCHEN_TABLE</parent>
    <LOC type="object">KITCHEN_TABLE</LOC>
    <alias>brown sack</alias>
    <alt type="stringlist">
      <value>brown elongated smelly bag</value>
      <value>brown elongated smelly sack</value>
    </alt>
    <take />
    <TAKEBIT />
    <CONTBIT />
    <BURNBIT />
    <CAPACITY type="int">9</CAPACITY>
    <SIZE type="int">9</SIZE>
    <ACTION>SANDWICH_BAG_FCN</ACTION>
    <feature_container />
    <FDESC>On the table is an elongated brown sack, smelling of hot peppers.</FDESC>
    <SYNONYM>BAG SACK</SYNONYM>
    <ADJECTIVE>BROWN ELONGATED SMELLY</ADJECTIVE>
  </object>

  <object name="TOOL_CHEST">
    <inherit name="editor_object" />
    <inherit name="plural" />
    <inherit name="container_open" />
    <parent type="object">MAINTENANCE_ROOM</parent>
    <LOC type="object">MAINTENANCE_ROOM</LOC>
    <alias>group of tool chests</alias>
    <SYNONYM>CHEST CHESTS GROUP TOOLCHESTS</SYNONYM>
    <ADJECTIVE>TOOL</ADJECTIVE>
    <CONTBIT />
    <OPENBIT />
    <TRYTAKEBIT />
    <SACREDBIT />
    <ACTION>TOOL_CHEST_FCN</ACTION>
    <feature_container />
    <close type="boolean">false</close>
    <open type="boolean">false</open>
  </object>

  <object name="YELLOW_BUTTON">
    <inherit name="editor_object" />
    <parent type="object">MAINTENANCE_ROOM</parent>
    <LOC type="object">MAINTENANCE_ROOM</LOC>
    <alias>yellow button</alias>
    <scenery />
    <alt type="stringlist">
      <value>yellow switch</value>
    </alt>
    <NDESCBIT />
    <FLAGS>NDESBIT</FLAGS>
    <ACTION>BUTTON_F</ACTION>
    <SYNONYM>BUTTON SWITCH</SYNONYM>
    <ADJECTIVE>YELLOW</ADJECTIVE>
  </object>

  <object name="BROWN_BUTTON">
    <inherit name="editor_object" />
    <parent type="object">MAINTENANCE_ROOM</parent>
    <LOC type="object">MAINTENANCE_ROOM</LOC>
    <alias>brown button</alias>
    <scenery />
    <alt type="stringlist">
      <value>brown switch</value>
    </alt>
    <NDESCBIT />
    <FLAGS>NDESBIT</FLAGS>
    <ACTION>BUTTON_F</ACTION>
    <SYNONYM>BUTTON SWITCH</SYNONYM>
    <ADJECTIVE>BROWN</ADJECTIVE>
  </object>

  <object name="RED_BUTTON">
    <inherit name="editor_object" />
    <parent type="object">MAINTENANCE_ROOM</parent>
    <LOC type="object">MAINTENANCE_ROOM</LOC>
    <alias>red button</alias>
    <scenery />
    <alt type="stringlist">
      <value>red switch</value>
    </alt>
    <NDESCBIT />
    <FLAGS>NDESBIT</FLAGS>
    <ACTION>BUTTON_F</ACTION>
    <SYNONYM>BUTTON SWITCH</SYNONYM>
    <ADJECTIVE>RED</ADJECTIVE>
  </object>

  <object name="BLUE_BUTTON">
    <inherit name="editor_object" />
    <parent type="object">MAINTENANCE_ROOM</parent>
    <LOC type="object">MAINTENANCE_ROOM</LOC>
    <alias>blue button</alias>
    <scenery />
    <alt type="stringlist">
      <value>blue switch</value>
    </alt>
    <NDESCBIT />
    <FLAGS>NDESBIT</FLAGS>
    <ACTION>BUTTON_F</ACTION>
    <SYNONYM>BUTTON SWITCH</SYNONYM>
    <ADJECTIVE>BLUE</ADJECTIVE>
  </object>

  <!-- ;"Moved to first obj so L.R. desc looks right." -->
  <!--
  <object name="TROPHY_CASE"> 
    <inherit name="editor_object" />
    <parent type="object">LIVING_ROOM</parent>
    <LOC type="object">LIVING_ROOM</LOC>
    <alias>trophy case</alias>
    <scenery type="boolean">false</scenery>
    <TRANSBIT />
    <CONTBIT />
    <NDESCBIT />
    <TRYTAKEBIT />
    <SEARCHBIT type="boolean">false</SEARCHBIT>
    <ACTION>TROPHY_CASE_FCN</ACTION>
    <CAPACITY type="int">10000</CAPACITY>
    <SIZE type="int">0</SIZE>
    <SYNONYM>CASE</SYNONYM>
    <ADJECTIVE>TROPHY</ADJECTIVE>
    <FLAGS>TRANSBIT CONTBIT NDESCBIT TRYTAKEBIT SEARCHBIT</FLAGS>
    <displayverbs type="stringlist">
      <value>Examine</value>
    </displayverbs>
  </object>
  -->

  <object name="RUG">
    <inherit name="editor_object" />
    <parent type="object">LIVING_ROOM</parent>
    <LOC type="object">LIVING_ROOM</LOC>
    <alias>carpet</alias>
    <scenery type="boolean">false</scenery>
    <alt type="stringlist">
      <value>large oriental rug</value>
      <value>large rug</value>
      <value>large oriental carpet</value>
      <value>large carpet</value>
    </alt>
    <SYNONYM>RUG CARPET</SYNONYM>
    <ADJECTIVE>LARGE ORIENTAL</ADJECTIVE>
    <NDESCBIT />
    <TRYTAKEBIT />
    <ACTION>RUG_FCN</ACTION>
    <displayverbs type="stringlist">
      <value>Examine</value>
    </displayverbs>
  </object>

  <object name="CHALICE">
    <inherit name="editor_object" />
    <inherit name="container_open" />
    <parent type="object">TREASURE_ROOM</parent>
    <alias>chalice</alias>
    <alt type="stringlist">
      <value>silver chalice</value>
      <value>silver cup</value>
      <value>silver treasure</value>
      <value>engravings</value> <!-- ;"engravings exists..." -->
    </alt>
    <SYNONYM>CHALICE CUP SILVER TREASURE</SYNONYM>
    <ADJECTIVE>SILVER ENGRAVINGS</ADJECTIVE>
    <FLAGS>TAKEBIT TRYTAKEBIT CONTBIT</FLAGS>
    <ACTION>CHALICE_FCN</ACTION>
    <LDESC>There is a silver chalice, intricately engraved, here.</LDESC>
    <CAPACITY type="int">5</CAPACITY>
    <SIZE type="int">10</SIZE>
    <VALUE type="int">10</VALUE>
    <TVALUE type="int">5</TVALUE>
    <take />
    <feature_container />
    <open type="boolean">false</open>
    <close type="boolean">false</close>
    <listchildren />
    <TAKEBIT />
    <TRYTAKEBIT />
    <CONTBIT />
  </object>

  <object name="GARLIC">
    <inherit name="editor_object" />
    <parent type="object">SANDWICH_BAG</parent>
    <LOC type="object">SANDWICH_BAG</LOC>
    <alias>clove of garlic</alias>
    <take />
    <SYNONYM>GARLIC CLOVE</SYNONYM>
    <FLAGS>TAKEBIT FOODBIT</FLAGS>
    <TAKEBIT />
    <FOODBIT />
    <ACTION>GARLIC_F</ACTION>
    <SIZE type="int">4</SIZE>
  </object>

  <object name="TRIDENT">
    <inherit name="editor_object" />
    <parent type="object">ATLANTIS_ROOM</parent>
    <LOC type="object">ATLANTIS_ROOM</LOC>
    <alias>crystal trident</alias>
    <take />
    <SYNONYM>TRIDENT FORK TREASURE</SYNONYM>
    <ADJECTIVE>POSEIDON OWN CRYSTAL</ADJECTIVE>
    <FLAGS>TAKEBIT</FLAGS>
    <TAKEBIT />
    <FDESC>On the shore lies Poseidon's own crystal trident.</FDESC>
    <SIZE type="int">20</SIZE>
    <VALUE type="int">4</VALUE>
    <TVALUE type="int">11</TVALUE>
    <alt type="stringlist">
      <value>crystal treasure</value>
    </alt>
  </object>

  <object name="CYCLOPS">
    <inherit name="editor_object" />
    <inherit name="male" />
    <parent type="object">CYCLOPS_ROOM</parent>
    <LOC type="object">CYCLOPS_ROOM</LOC>
    <alias>cyclops</alias>
    <scenery />
    <SYNONYM>CYCLOPS MONSTER EYE</SYNONYM>
    <ADJECTIVE>HUNGRY GIANT</ADJECTIVE>
    <FLAGS>ACTORBIT NDESCBIT TRYTAKEBIT</FLAGS>
    <ACTORBIT />
    <NDESCBIT />
    <TRYTAKEBIT />
    <ACTION>CYCLOPS_FCN</ACTION>
    <STRENGTH type="int">10000</STRENGTH>
  </object>

  <object name="DAM">
    <inherit name="editor_object" />
    <parent type="object">DAM_ROOM</parent>
    <LOC type="object">DAM_ROOM</LOC>
    <alias>dam</alias>
    <scenery />
    <SYNONYM>DAM GATE GATES FCD\#3</SYNONYM>
    <NDESCBIT />
    <TRYTAKEBIT />
    <ACTION>DAM_FUNCTION</ACTION>
  </object>

  <object name="TRAP_DOOR">
    <inherit name="editor_object" />
  <parent type="object">LIVING_ROOM</parent>
  <LOC type="object">LIVING_ROOM</LOC>
    <alias>trap door</alias>
    <scenery type="boolean">false</scenery>
    <SYNONYM>DOOR TRAPDOOR TRAP-DOOR COVER</SYNONYM>
    <ADJECTIVE>TRAP DUSTY</ADJECTIVE>
    <DOORBIT />
    <NDESCBIT />
    <INVISIBLE />
    <visible type="boolean">false</visible>
    <ACTION>TRAP_DOOR_FCN</ACTION>
    <displayverbs type="stringlist">
      <value>Examine</value>
    </displayverbs>
    <not_all />
    <alt type="stringlist">
      <value>door</value>
      <value>dusty door</value>
      <value>dusty trapdoor</value>
      <value>dusty trap-door</value>
      <value>dusty cover</value>
    </alt>
  </object>

  <object name="BOARDED_WINDOW">
    <inherit name="editor_object" />
    <parent type="object">LOCAL_GLOBALS</parent>
    <LOC type="object">LOCAL_GLOBALS</LOC>
    <alias>boarded window</alias>
    <scenery />
    <NDESCBIT />
    <ACTION>BOARDED_WINDOW_FCN</ACTION>
    <SYNONYM>WINDOW</SYNONYM>
    <ADJECTIVE>BOARDED</ADJECTIVE>
    <FLAGS>NDESCBIT</FLAGS>
  </object>

  <object name="FRONT_DOOR">
    <inherit name="editor_object" />
    <inherit name="openable" />
    <parent type="object">WEST_OF_HOUSE</parent>
    <LOC type="object">WEST_OF_HOUSE</LOC>
    <scenery />
    <alias>door</alias>
    <alt type="stringlist">
      <value>boarded front door</value>
      <value>boarded door</value>
    </alt>
    <DOORBIT />
    <NDESCBIT />
    <feature_container />
    <open type="boolean">false</open>
    <close type="boolean">false</close>
    <ACTION>FRONT_DOOR_FCN</ACTION>
    <SYNONYM>DOOR</SYNONYM>
    <ADJECTIVE>FRONT BOARDED</ADJECTIVE>
  </object>

  <object name="BARROW_DOOR">
    <inherit name="editor_object" />
    <inherit name="openable" />
    <parent type="object">STONE_BARROW</parent>
    <LOC type="object">STONE_BARROW</LOC>
    <scenery />
    <alias>stone door</alias>
    <alt type="stringlist">
      <value>huge stone door</value>
    </alt>
    <feature_container />
    <DOORBIT />
    <NDESCBIT />
    <OPENBIT />
    <isopen />
    <ACTION>BARROW_DOOR_FCN</ACTION>
    <FLAGS>DOORBIT NDESCBIT OPENBIT</FLAGS>
    <SYNONYM>DOOR</SYNONYM>
    <ADJECTIVE>HUGE STONE</ADJECTIVE>
  </object>

  <object name="BARROW">
    <inherit name="editor_object" />
    <parent type="object">STONE_BARROW</parent>
    <LOC type="object">STONE_BARROW</LOC>
    <scenery />
    <alias>stone barrow</alias>
    <alt type="stringlist">
      <value>massive stone barrow</value>
      <value>massive stone tomb</value>
      <value>massive barrow</value>
      <value>massive tomb</value>
    </alt>
    <SYNONYM>BARROW TOMB</SYNONYM>
    <ADJECTIVE>MASSIVE STONE</ADJECTIVE>
    <NDESCBIT />
    <ACTION>BARROW_FCN</ACTION>
    <FLAGS>NDESCBIT</FLAGS>
  </object>

  <object name="BOTTLE">
    <inherit name="editor_object" />
    <inherit name="container_open" />
    <parent type="object">KITCHEN_TABLE</parent>
    <LOC type="object">KITCHEN_TABLE</LOC>
    <alias>glass bottle</alias>
    <alt type="stringlist">
      <value>clear bottle</value>
      <value>clear container</value>
      <value>glass container</value>
      <value>clear glass bottle</value>
      <value>clear glass container</value>
    </alt>
    <take />
    <feature_container />
    <open type="boolean">false</open>
    <close type="boolean">false</close>
    <transparent />
    <TAKEBIT />
    <CONTBIT />
    <TRANSBIT />
    <ACTION>BOTTLE_FUNCTION</ACTION>
    <CAPACITY type="int">4</CAPACITY>
    <FDESC>A bottle is sitting on the table.</FDESC>
    <FLAGS>TAKEBIT CONTBIT TRANSBIT</FLAGS>
    <SYNONYM>BOTTLE CONTAINER</SYNONYM>
    <ADJECTIVE>CLEAR GLASS</ADJECTIVE>
  </object>

  <object name="CRACK">
    <inherit name="editor_object" />
    <parent type="object">LOCAL_GLOBALS</parent>
    <LOC type="object">LOCAL_GLOBALS</LOC>
    <alias>crack</alias>
    <alt type="stringlist">
      <value>narrow crack</value>
    </alt>
    <scenery />
    <SYNONYM>CRACK</SYNONYM>
    <ADJECTIVE>NARROW</ADJECTIVE>
    <FLAGS>NDESCBIT</FLAGS>
    <NDESCBIT />
    <ACTION>CRACK_FCN</ACTION>
  </object>

  <object name="COFFIN">
    <inherit name="editor_object" />
    <inherit name="container_closed" />
    <parent type="object">EGYPT_ROOM</parent>
    <LOC type="object">EGYPT_ROOM</LOC>
    <alias>gold coffin</alias>
    <alt type="stringlist">
      <value>solid gold coffin</value>
      <value>solid gold casket</value>
      <value>solid gold treasure</value>
    </alt>
    <take />
    <TAKEBIT />
    <CONTBIT />
    <SACREDBIT />
    <SEARCHBIT />
    <LDESC>The solid-gold coffin used for the burial of Ramses II is here.</LDESC>
    <CAPACITY type="int">35</CAPACITY>
    <SIZE type="int">55</SIZE>
    <VALUE type="int">10</VALUE>
    <TVALUE type="int">15</TVALUE>
    <feature_container />
    <SYNONYM>COFFIN CASKET TREASURE</SYNONYM>
    <ADJECTIVE type="string">SOLID GOLD</ADJECTIVE>
    <FLAGS>TAKEBIT CONTBIT SACREDBIT SEARCHBIT</FLAGS>
  </object>

  <object name="GRATE">
    <inherit name="editor_object" />
    <parent type="object">LOCAL_GLOBALS</parent>
    <LOC type="object">LOCAL_GLOBALS</LOC>
    <inherit name="openable" />
    <alias>grating</alias>
    <alt type="stringlist">
      <value>grate</value>
    </alt>
    <scenery />
    <SYNONYM>GRATE GRATING</SYNONYM>
    <FLAGS>DOORBIT NDESCBIT INVISIBLE</FLAGS>
    <DOORBIT />
    <NDESCBIT />
    <INVISIBLE />
    <ACTION>GRATE_FUNCTION</ACTION>
    <feature_container />
    <visible type="boolean">false</visible>
  </object>

  <object name="PUMP">
    <inherit name="editor_object" />
    <parent type="object">RESERVOIR_NORTH</parent>
    <LOC type="object">RESERVOIR_NORTH</LOC>
    <alias>hand-held air pump</alias>
    <take />
    <alt type="stringlist">
      <value>small hand-held pump</value>
      <value>small pump</value>
      <value>tools</value>
    </alt>
    <SYNONYM>PUMP AIR-PUMP TOOL TOOLS</SYNONYM>
    <ADJECTIVE>SMALL HAND-HELD</ADJECTIVE>
    <FLAGS>TAKEBIT TOOLBIT</FLAGS>
    <TAKEBIT />
    <TOOLBIT />
  </object>

  <object name="DIAMOND">
    <inherit name="editor_object" />
    <alias>huge diamond</alias>
    <take />
    <alt type="stringlist">
      <value>enormous diamond</value>
      <value>huge treasure</value>
      <value>enormous treasure</value>
    </alt>
    <SYNONYM>DIAMOND TREASURE</SYNONYM>
    <ADJECTIVE type="string">ENORMOUS HUGE</ADJECTIVE>
    <LDESC>There is an enormous diamond (perfectly cut) here.</LDESC>
    <TVALUE type="int">10</TVALUE>
    <VALUE type="int">10</VALUE>
    <FLAGS>TAKEBIT</FLAGS>
    <TAKEBIT />
  </object>

  <object name="JADE">
    <inherit name="editor_object" />
    <parent type="object">BAT_ROOM</parent>
    <LOC type="object">BAT_ROOM</LOC>
    <alias>jade figurine</alias>
    <take />
    <alt type="stringlist">
      <value>exquisite jade figurine</value>
      <value>exquisite jade treasure</value>
      <value>exquisite treasure</value>
      <value>exquisite figurine</value>
    </alt>
    <SYNONYM>JADE TREASURE</SYNONYM>
    <ADJECTIVE>EXQUISITE JADE</ADJECTIVE>
    <FLAGS>TAKEBIT</FLAGS>
    <TAKEBIT />
    <LDESC>There is an exquisite jade figurine here.</LDESC>
    <SIZE type="int">10</SIZE>
    <VALUE type="int">5</VALUE>
    <TVALUE type="int">5</TVALUE>
  </object>

  <object name="KNIFE">
    <inherit name="editor_object" />
    <parent type="object">ATTIC_TABLE</parent>
    <LOC type="object">ATTIC_TABLE</LOC>
    <alias>nasty knife</alias>
    <take />
    <SYNONYM>KNIVES KNIFE BLADE</SYNONYM>
    <ADJECTIVE>NASTY UNRUSTY</ADJECTIVE>
    <FLAGS>TAKEBIT WEAPONBIT TRYTAKEBIT</FLAGS>
    <FDESC>On a table is a nasty-looking knife.</FDESC>
    <ACTION>KNIFE_F</ACTION>
    <TAKEBIT />
    <WEAPONBIT />
    <TRYTAKEBIT />
  </object>

  <object name="BONES">
    <inherit name="editor_object" />
    <parent type="object">MAZE_5</parent>
    <LOC type="object">MAZE_5</LOC>
    <alias>skeleton</alias>
    <alt type="stringlist">
      <value>bones</value>
      <value>body</value>
    </alt>
    <scenery />
    <SYNONYM>BONES SKELETON BODY</SYNONYM>
    <FLAGS>TRYTAKEBIT NDESCBIT</FLAGS>
    <TRYTAKEBIT />
    <NDESCBIT />
    <ACTION>SKELETON</ACTION>
  </object>

  <object name="BURNED_OUT_LANTERN">
    <inherit name="editor_object" />
    <parent type="object">MAZE_5</parent>
    <LOC type="object">MAZE_5</LOC>
    <SYNONYM>LANTERN LAMP</SYNONYM>
    <ADJECTIVE>RUSTY BURNED DEAD USELESS</ADJECTIVE>
    <alias>burned-out lantern</alias>
    <take />
    <alt type="stringlist">
      <value>rusty lantern</value>
      <value>rusty lamp</value>
      <value>burned lantern</value>
      <value>burned lamp</value>
      <value>dead lantern</value>
      <value>dead lamp</value>
      <value>useless lantern</value>
      <value>usless lamp</value>
    </alt>
    <FLAGS>TAKEBIT</FLAGS>
    <TAKEBIT />
    <FDESC>The deceased adventurer's useless lantern is here.</FDESC>
    <SIZE type="int">20</SIZE>
  </object>

  <object name="BAG_OF_COINS">
    <inherit name="editor_object" />
    <parent type="object">MAZE_5</parent>
    <LOC type="object">MAZE_5</LOC>
    <alias>leather bag of coins</alias>
    <alt type="stringlist">
      <value>old leather bag of coins</value>
      <value>treasure</value>
    </alt>
    <take />
    <SYNONYM>BAG COINS TREASURE</SYNONYM>
    <ADJECTIVE>OLD LEATHER</ADJECTIVE>
    <FLAGS>TAKEBIT</FLAGS>
    <TAKEBIT />
    <LDESC>An old leather bag, bulging with coins, is here.</LDESC>
    <ACTION>BAG_OF_COINS_F</ACTION>
    <SIZE type="int">15</SIZE>
    <VALUE type="int">10</VALUE>
    <TVALUE type="int">5</TVALUE>
  </object>

  <object name="LAMP">
    <inherit name="editor_object" />
    <inherit name="switchable" />
    <parent type="object">LIVING_ROOM</parent>
    <LOC type="object">LIVING_ROOM</LOC>
    <alias>brass lantern</alias>
    <take />
    <alt type="stringlist">
      <value>brass lamp</value>
      <value>brass light</value>
    </alt>
    <TAKEBIT />
    <LIGHTBIT />
    <feature_switchable />
    <feature_lightdark />
    <lightsource />
    <SYNONYM>LAMP LANTERN LIGHT</SYNONYM>
    <ADJECTIVE>BRASS</ADJECTIVE>
    <FLAGS>TAKEBIT LIGHTBIT</FLAGS>
    <ACTION>LANTERN</ACTION>
    <FDESC>A battery-powered brass lantern is on the trophy case.</FDESC>
    <LDESC>There is a brass lantern (battery-powered) here.</LDESC>
    <SIZE type="int">15</SIZE>
    <onswitchon type="script">
      SetObjectLightstrength (LAMP, "strong")
    </onswitchon>
    <onswitchoff type="script">
      SetObjectLightstrength (LAMP, "")
    </onswitchoff>
    <displayverbs type="simplestringlist">Examine</displayverbs>
  </object>

  <object name="EMERALD">
    <inherit name="editor_object" />
    <parent type="object">BUOY</parent>
    <LOC type="object">BUOY</LOC>
    <alias>large emerald</alias>
    <alt type="stringlist">
      <value>large treasure</value>
    </alt>
    <take />
    <SYNONYM>EMERALD TREASURE</SYNONYM>
    <ADJECTIVE>LARGE</ADJECTIVE>
    <FLAGS>TAKEBIT</FLAGS>
    <TAKEBIT />
    <VALUE type="int">5</VALUE>
    <TVALUE type="int">10</TVALUE>
  </object>

  <object name="ADVERTISEMENT">
    <inherit name="editor_object" />
    <parent type="object">MAILBOX</parent>
    <LOC type="object">MAILBOX</LOC>
    <alias>leaflet</alias>
    <READBIT />
    <TAKEBIT />
    <BURNBIT />
    <take />
    <SIZE type="int">2</SIZE>
    <alt type="stringlist">
      <value>small advertisement</value>
      <value>small leaflet</value>
      <value>small booklet</value>
      <value>small mail</value>
    </alt>
    <SYNONYM>ADVERTISEMENT LEAFLET BOOKLET MAIL</SYNONYM>
    <ADJECTIVE>SMALL</ADJECTIVE>
    <FLAGS>READBIT TAKEBIT BURNBIT</FLAGS>
    <LDESC>A small leaflet is on the ground.</LDESC>
    <TEXT><![CDATA["WELCOME TO ZORK!<br/><br/>ZORK is a game of adventure, danger, and low cunning. In it you will explore some of the most amazing territory ever seen by mortals. No computer should be without one!"]]></TEXT>
  </object>

  <object name="LEAK">
    <inherit name="editor_object" />
    <parent type="object">MAINTENANCE_ROOM</parent>
    <LOC type="object">MAINTENANCE_ROOM</LOC>
    <alias>leak</alias>
    <visible type="boolean">false</visible>
    <scenery />
    <alt type="stringlist">
      <value>drip</value>
      <value>pipe</value>
    </alt>
    <SYNONYM>LEAK DRIP PIPE</SYNONYM>
    <FLAGS>NDESCBIT INVISIBLE</FLAGS>
    <ACTION>LEAK_FUNCTION</ACTION>
  </object>

  <object name="MACHINE">
    <inherit name="editor_object" />
    <inherit name="container_open" />
    <parent type="object">MACHINE_ROOM</parent>
    <LOC type="object">MACHINE_ROOM</LOC>
    <alias>machine</alias>
    <scenery />
    <feature_container />
    <open />
    <close />
    <alt type="stringlist">
      <value>PDP10</value>
      <value>dryer</value>
      <value>lid</value>
    </alt>
    <SYNONYM>MACHINE PDP10 DRYER LID</SYNONYM>
    <FLAGS>CONTBIT NDESCBIT TRYTAKEBIT</FLAGS>
    <CONTBIT />
    <NDESCBIT />
    <TRYTAKEBIT />
    <ACTION>MACHINE_F</ACTION>
    <CAPACITY type="int">50</CAPACITY>
    <isopen type="boolean">false</isopen>
  </object>

  <object name="INFLATED_BOAT">
    <inherit name="editor_object" />
    <inherit name="surface" />
    <alias>magic boat</alias>
    <take />
    <feature_container />
    <SYNONYM>BOAT RAFT</SYNONYM>
    <ADJECTIVE>INFLAT MAGIC PLASTIC SEAWORTHY</ADJECTIVE>
    <alt type="stringlist">
      <value>inflated boat</value>
    </alt>
    <FLAGS>TAKEBIT BURNBIT VEHBIT OPENBIT SEARCHBIT</FLAGS>
    <TAKEBIT />
    <BURNBIT />
    <VEHBIT />
    <OPENBIT />
    <SEARCHBIT />
    <ACTION>RBOAT_FUNCTION</ACTION>
    <CAPACITY type="int">100</CAPACITY>
    <SIZE type="int">20</SIZE>
    <VTYPE>NONLANDBIT</VTYPE>
  </object>

  <object name="MAILBOX">
    <inherit name="editor_object" />
    <inherit name="container_closed" />
    <parent type="object">WEST_OF_HOUSE</parent>
    <LOC type="object">WEST_OF_HOUSE</LOC>
    <alias>small mailbox</alias>
    <alt type="stringlist">
      <value>small box</value>
    </alt>
    <CONTBIT />
    <TRYTAKEBIT />
    <CAPACITY type="int">10</CAPACITY>
    <ACTION>MAILBOX_F</ACTION>
    <SYNONYM>MAILBOX BOX</SYNONYM>
    <ADJECTIVE>SMALL</ADJECTIVE>
    <FLAGS>CONTBIT TRYTAKEBIT</FLAGS>
    <feature_container />
    <listchildren />
    <displayverbs type="stringlist">
      <value>Examine</value>
    </displayverbs>
  </object>

  <object name="MATCH">
    <inherit name="editor_object" />
    <parent type="object">DAM_LOBBY</parent>
    <LOC type="object">DAM_LOBBY</LOC>
    <alias>matchbook</alias>
    <take />
    <alt type="stringlist">
      <value>matches</value>
    </alt>
    <SYNONYM>MATCH MATCHES MATCHBOOK</SYNONYM>
    <ADJECTIVE>MATCH</ADJECTIVE>
    <FLAGS type="string"></FLAGS>
    <READBIT />
    <TAKEBIT />
    <ACTION type="string">MATCH_FUNCTION</ACTION>
    <SIZE type="int">2</SIZE>
    <TEXT type="string"></TEXT>
    <read>{MATCH.TEXT}</read>
    <look>{MATCH.TEXT}</look>
  </object>

  <object name="MIRROR_2">
    <inherit name="editor_object" />
    <parent type="object">MIRROR_ROOM_2</parent>
    <LOC type="object">MIRROR_ROOM_2</LOC>
    <alias>mirror</alias>
    <alt type="stringlist">
      <value>reflection</value>
      <value>enormous</value>
    </alt>
    <scenery />
    <SYNONYM type="string">MIRROR</SYNONYM>
    <FLAGS type="string"></FLAGS>
    <TRYTAKEBIT />
    <NDESCBIT />
    <ACTION type="string">MIRROR_MIRROR</ACTION>
  </object>

  <object name="MIRROR_1">
    <inherit name="editor_object" />
    <parent type="object">MIRROR_ROOM_1</parent>
    <LOC type="object">MIRROR_ROOM_1</LOC>
    <alias>mirror</alias>
    <alt type="stringlist">
      <value>reflection</value>
      <value>enormous</value>
    </alt>
    <scenery />
    <SYNONYM type="string">MIRROR</SYNONYM>
    <FLAGS type="string"></FLAGS>
    <TRYTAKEBIT />
    <NDESCBIT />
    <ACTION type="string">MIRROR_MIRROR</ACTION>
  </object>

  <object name="PAINTING">
    <inherit name="editor_object" />
    <parent type="object">GALLERY</parent>
    <LOC type="object">GALLERY</LOC>
    <alias>painting</alias>
    <take />
    <alt type="stringlist">
      <value>beautiful painting</value>
      <value>beautiful art</value>
      <value>beautiful canvas</value>
      <value>beautiful treasure</value>
    </alt>
    <SYNONYM>PAINTING ART CANVAS TREASURE</SYNONYM>
    <ADJECTIVE>BEAUTI</ADJECTIVE>
    <FLAGS>TAKEBIT BURNBIT</FLAGS>
    <TAKEBIT />
    <BURNBIT />
    <ACTION>PAINTING_FCN</ACTION>
    <FDESC>Fortunately, there is still one chance for you to be a vandal, for on the far wall is a painting of unparalleled beauty.</FDESC>
    <LDESC>A painting by a neglected genius is here.</LDESC>
    <SIZE type="int">15</SIZE>
    <VALUE type="int">4</VALUE>
    <TVALUE type="int">6</TVALUE>
  </object>

  <object name="CANDLES">
    <inherit name="editor_object" />
    <parent type="object">SOUTH_TEMPLE</parent>
    <LOC type="object">SOUTH_TEMPLE</LOC>
    <alias>pair of candles</alias>
    <take />
    <feature_lightdark />
    <lightsource />
    <alt type="stringlist">
      <value>pair of burning candles</value>
      <value>burning candles</value>
      <value>burning pair of candles</value>
    </alt>
    <SYNONYM>CANDLES PAIR</SYNONYM>
    <ADJECTIVE>BURNING</ADJECTIVE>
    <FLAGS>TAKEBIT FLAMEBIT ONBIT LIGHTBIT</FLAGS>
    <TAKEBIT />
    <FLAMEBIT />
    <ONBIT />
    <LIGHTBIT />
    <ACTION>CANDLES_FCN</ACTION>
    <FDESC>On the two ends of the altar are burning candles.</FDESC>
    <SIZE type="int">10</SIZE>
    <lightstrength>strong</lightstrength>
  </object>

  <object name="GUNK">
    <inherit name="editor_object" />
    <alias>small piece of vitreous slag</alias>
    <take />
    <SYNONYM>GUNK PIECE SLAG</SYNONYM>
    <attr name="SMALL VITREOUS" type="string"></attr>
    <FLAGS>TAKEBIT TRYTAKEBIT</FLAGS>
    <TAKEBIT />
    <TRYTAKEBIT />
    <ACTION>GUNK_FUNCTION</ACTION>
    <SIZE type="int">10</SIZE>
  </object>

  <object name="BODIES">
    <inherit name="editor_object" />
    <parent type="object">LOCAL_GLOBALS</parent>
    <LOC type="object">LOCAL_GLOBALS</LOC>
    <alias>pile of bodies</alias>
    <scenery />
    <SYNONYM>BODIES BODY REMAINS PILE</SYNONYM>
    <ADJECTIVE>MANGLED</ADJECTIVE>
    <FLAGS>NDESCBIT TRYTAKEBIT</FLAGS>
    <ACTION>BODY_FUNCTION</ACTION>
  </object>

  <object name="LEAVES">
    <inherit name="editor_object" />
    <parent type="object">GRATING_CLEARING</parent>
    <LOC type="object">GRATING_CLEARING</LOC>
    <alias>pile of leaves</alias>
    <alt type="stringlist">
      <value>leaf</value>
    </alt>
    <take />
    <SYNONYM>LEAVES LEAF PILE</SYNONYM>
    <FLAGS>TAKEBIT BURNBIT TRYTAKEBIT</FLAGS>
    <TAKEBIT />
    <BURNBIT />
    <TRYTAKEBIT />
    <ACTION>LEAF_PILE</ACTION>
    <LDESC>On the ground is a pile of leaves.</LDESC>
    <SIZE type="int">25</SIZE>
  </object>

  <object name="PUNCTURED_BOAT">
    <inherit name="editor_object" />
    <alias>punctured boat</alias>
    <take />
    <SYNONYM>BOAT PILE PLASTIC</SYNONYM>
    <ADJECTIVE>PLASTIC PUNCTURE LARGE</ADJECTIVE>
    <FLAGS>TAKEBIT BURNBIT</FLAGS>
    <ACTION>DBOAT_FUNCTION</ACTION>
    <SIZE type="int">20</SIZE>
  </object>

  <object name="INFLATABLE_BOAT">
    <inherit name="editor_object" />
    <parent type="object">DAM_BASE</parent>
    <LOC type="object">DAM_BASE</LOC>
    <alias>pile of plastic</alias>
    <take />
    <SYNONYM>BOAT PILE PLASTIC VALVE</SYNONYM>
    <ADJECTIVE>PLASTIC INFLAT</ADJECTIVE>
    <FLAGS>TAKEBIT BURNBIT</FLAGS>
    <TAKEBIT />
    <BURNBIT />
    <ACTION>IBOAT_FUNCTION</ACTION>
    <LDESC>There is a folded pile of plastic here which has a small valve attached.</LDESC>
    <SIZE type="int">20</SIZE>
  </object>

  <object name="BAR">
    <inherit name="editor_object" />
    <parent type="object">LOUD_ROOM</parent>
    <LOC type="object">LOUD_ROOM</LOC>
    <alias>platinum bar</alias>
    <take />
    <alt type="stringlist">
      <value>bar</value>
      <value>large platinum bar</value>
      <value>large platinum treasure</value>
    </alt>
    <SYNONYM>BAR PLATINUM TREASURE</SYNONYM>
    <ADJECTIVE>PLATINUM LARGE</ADJECTIVE>
    <FLAGS>TAKEBIT SACREDBIT</FLAGS>
    <TAKEBIT />
    <SACREDBIT />
    <LDESC>On the ground is a large platinum bar.</LDESC>
    <SIZE type="int">20</SIZE>
    <VALUE type="int">10</VALUE>
    <TVALUE type="int">5</TVALUE>
  </object>

  <object name="POT_OF_GOLD">
    <inherit name="editor_object" />
    <parent type="object">END_OF_RAINBOW</parent>
    <LOC type="object">END_OF_RAINBOW</LOC>
    <alias>pot of gold</alias>
    <visible type="boolean">false</visible>
    <take />
    <alt type="stringlist">
      <value>gold treasure</value>
      <value>gold pot</value>
    </alt>
    <SYNONYM>POT GOLD TREASURE</SYNONYM>
    <ADJECTIVE>GOLD</ADJECTIVE>
    <FLAGS>TAKEBIT INVISIBLE</FLAGS>
    <TAKEBIT />
    <INVISIBLE />
    <FDESC>At the end of the rainbow is a pot of gold.</FDESC>
    <SIZE type="int">15</SIZE>
    <VALUE type="int">10</VALUE>
    <TVALUE type="int">10</TVALUE>
  </object>

  <object name="PRAYER">
    <inherit name="editor_object" />
    <parent type="object">NORTH_TEMPLE</parent>
    <LOC type="object">NORTH_TEMPLE</LOC>
    <alias>prayer</alias>
    <alt type="stringlist">
      <value>ancient prayer</value>
      <value>ancient inscription</value>
      <value>old prayer</value>
      <value>old inscription</value>
    </alt>
    <SYNONYM>PRAYER INSCRIPTION</SYNONYM>
    <ADJECTIVE>ANCIENT OLD</ADJECTIVE>
    <FLAGS>READBIT SACREDBIT NDESCBIT</FLAGS>
    <scenery />
    <read>{PRAYER.TEXT}</read>
    <READBIT />
    <SACREDBIT />
    <NDESCBIT />
    <TEXT>The prayer is inscribed in an ancient script, rarely used today. It seems to be a philippic against small insects, absent-mindedness, and the picking up and dropping of small objects. The final verse consigns trespassers to the land of the dead. All evidence indicates that the beliefs of the ancient Zorkers were obscure.</TEXT>
    <look>{PRAYER.TEXT}</look>
  </object>

  <object name="RAILING">
    <inherit name="editor_object" />
    <parent type="object">DOME_ROOM</parent>
    <LOC type="object">DOME_ROOM</LOC>
    <alias>wooden railing</alias>
    <scenery />
    <SYNONYM>RAILING RAIL</SYNONYM>
    <ADJECTIVE>WOODEN</ADJECTIVE>
    <FLAGS> NDESCBIT</FLAGS>
    <NDESCBIT />
  </object>

  <object name="RAINBOW">
    <inherit name="editor_object" />
    <parent type="object">LOCAL_GLOBALS</parent>
    <LOC type="object">LOCAL_GLOBALS</LOC>
    <alias>rainbow</alias>
    <scenery />
    <SYNONYM>RAINBOW</SYNONYM>
    <FLAGS>NDESCBIT CLIMBBIT</FLAGS>
    <NDESCBIT />
    <CLIMBBIT />
    <ACTION>RAINBOW_FCN</ACTION>
  </object>

  <object name="RIVER">
    <inherit name="editor_object" />
    <parent type="object">LOCAL_GLOBALS</parent>
    <LOC type="object">LOCAL_GLOBALS</LOC>
    <alias>river</alias>
    <alt type="stringlist">
      <value>frigid river</value>
    </alt>
    <scenery />
    <SYNONYM>RIVER</SYNONYM>
    <ADJECTIVE>FRIGID</ADJECTIVE>
    <ACTION>RIVER_FUNCTION</ACTION>
    <FLAGS>NDESCBIT</FLAGS>
    <NDESCBIT />
  </object>

  <object name="BUOY">
    <inherit name="editor_object" />
    <inherit name="container_open" />
    <parent type="object">RIVER_4</parent>
    <LOC type="object">RIVER_4</LOC>
    <alias>red buoy</alias>
    <take />
    <SYNONYM>BUOY</SYNONYM>
    <ADJECTIVE>RED</ADJECTIVE>
    <FLAGS>TAKEBIT CONTBIT</FLAGS>
    <TAKEBIT />
    <CONTBIT />
    <FDESC>There is a red buoy here (probably a warning).</FDESC>
    <CAPACITY type="int">20</CAPACITY>
    <SIZE type="int">10</SIZE>
    <ACTION>TREASURE_INSIDE</ACTION>
    <feature_container />
    <open />
    <close />
    <isopen type="boolean">false</isopen>
  </object>

  <function name="TREASURE_INSIDE" type="boolean">
    if (VERB_P(V_OPEN)) {
      SCORE_OBJ (EMERALD)
      return (false)
    }
    return (false)
  </function>

  <object name="ROPE">
    <inherit name="editor_object" />
    <parent type="object">ATTIC</parent>
    <LOC type="object">ATTIC</LOC>
    <alias>rope</alias>
    <take />
    <alt type="stringlist">
      <value>large rope</value>
      <value>large hemp</value>
      <value>large coil</value>
      <value>large coil of rope</value>
    </alt>
    <SYNONYM>ROPE HEMP COIL</SYNONYM>
    <ADJECTIVE>LARGE</ADJECTIVE>
    <FLAGS>TAKEBIT SACREDBIT TRYTAKEBIT</FLAGS>
    <TAKEBIT />
    <SACREDBIT />
    <TRYTAKEBIT />
    <ACTION>ROPE_FUNCTION</ACTION>
    <FDESC>A large coil of rope is lying in the corner.</FDESC>
    <SIZE type="int">10</SIZE>
  </object>

  <object name="RUSTY_KNIFE">
    <inherit name="editor_object" />
    <parent type="object">MAZE_5</parent>
    <LOC type="object">MAZE_5</LOC>
    <alias>rusty knife</alias>
    <take />
    <alt type="stringlist">
      <value>rusty knives</value>
    </alt>
    <SYNONYM>KNIVES KNIFE</SYNONYM>
    <ADJECTIVE>RUSTY</ADJECTIVE>
    <FLAGS>TAKEBIT TRYTAKEBIT WEAPONBIT TOOLBIT</FLAGS>
    <TAKEBIT />
    <TRYTAKEBIT />
    <WEAPONBIT />
    <TOOLBIT />
    <ACTION>RUSTY_KNIFE_FCN</ACTION>
    <FDESC>Beside the skeleton is a rusty knife.</FDESC>
    <SIZE type="int">20</SIZE>
  </object>

  <object name="SAND">
    <inherit name="editor_object" />
    <parent type="object">SANDY_CAVE</parent>
    <LOC type="object">SANDY_CAVE</LOC>
    <alias>sand</alias>
    <alt type="stringlist">
      <value>sand</value>
    </alt>
    <scenery />
    <SYNONYM>SAND</SYNONYM>
    <FLAGS>NDESCBIT</FLAGS>
    <NDESCBIT />
    <ACTION>SAND_FUNCTION</ACTION>
  </object>

  <object name="BRACELET">
    <inherit name="editor_object" />
    <parent type="object">GAS_ROOM</parent>
    <LOC type="object">GAS_ROOM</LOC>
    <alias>sapphire-encrusted bracelet</alias>
    <take />
    <alt type="stringlist">
      <value>sapphire jewel</value>
      <value>sapphire treasure</value>
    </alt>
    <SYNONYM>BRACELET JEWEL SAPPHIRE TREASURE</SYNONYM>
    <ADJECTIVE>SAPPHIRE</ADJECTIVE>
    <FLAGS>TAKEBIT</FLAGS>
    <TAKEBIT />
    <SIZE type="int">10</SIZE>
    <VALUE type="int">5</VALUE>
    <TVALUE type="int">5</TVALUE>
  </object>

  <object name="SCREWDRIVER">
    <inherit name="editor_object" />
    <parent type="object">MAINTENANCE_ROOM</parent>
    <LOC type="object">MAINTENANCE_ROOM</LOC>
    <alias>screwdriver</alias>
    <take />
    <alt type="stringlist">
      <value>screw tool</value>
      <value>tools</value>
      <value>screw driver</value>
    </alt>
    <SYNONYM>SCREWDRIVER TOOL TOOLS SCREWDRIVER</SYNONYM>
    <ADJECTIVE>SCREW</ADJECTIVE>
    <FLAGS>TAKEBIT TOOLBIT</FLAGS>
    <TAKEBIT />
    <TOOLBIT />
  </object>

  <object name="KEYS">
    <inherit name="editor_object" />
    <parent type="object">MAZE_5</parent>
    <LOC type="object">MAZE_5</LOC>
    <alias>skeleton key</alias>
    <take />
    <SYNONYM>KEY</SYNONYM>
    <ADJECTIVE>SKELETON</ADJECTIVE>
    <FLAGS>TAKEBIT TOOLBIT</FLAGS>
    <TAKEBIT />
    <TOOLBIT />
    <SIZE type="int">10</SIZE>
  </object>

  <object name="SHOVEL">
    <inherit name="editor_object" />
    <parent type="object">SANDY_BEACH</parent>
    <LOC type="object">SANDY_BEACH</LOC>
    <alias>shovel</alias>
    <take />
    <alt type="stringlist">
      <value>tools</value>
    </alt>
    <SYNONYM>SHOVEL TOOL TOOLS</SYNONYM>
    <FLAGS>TAKEBIT TOOLBIT</FLAGS>
    <TAKEBIT />
    <TOOLBIT />
    <SIZE type="int">15</SIZE>
  </object>

  <object name="COAL">
    <inherit name="editor_object" />
    <parent type="object">DEAD_END_5</parent>
    <LOC type="object">DEAD_END_5</LOC>
    <alias>small pile of coal</alias>
    <take />
    <SYNONYM>COAL PILE HEAP</SYNONYM>
    <ADJECTIVE>SMALL</ADJECTIVE>
    <FLAGS>TAKEBIT BURNBIT</FLAGS>
    <SIZE type="int">20</SIZE>
    <TAKEBIT />
    <BURNBIT />
  </object>

  <object name="LADDER">
    <inherit name="editor_object" />
    <parent type="object">LOCAL_GLOBALS</parent>
    <LOC type="object">LOCAL_GLOBALS</LOC>
    <alias>wooden ladder</alias>
    <scenery />
    <SYNONYM>LADDER</SYNONYM>
    <ADJECTIVE>WOODEN RICKETY NARROW</ADJECTIVE>
    <FLAGS>NDESCBIT CLIMBBIT</FLAGS>
    <NDESCBIT />
    <CLIMBBIT />
  </object>

  <object name="SCARAB">
    <inherit name="editor_object" />
    <parent type="object">SANDY_CAVE</parent>
    <LOC type="object">SANDY_CAVE</LOC>
    <alias>beautiful jeweled scarab</alias>
    <alt type="stringlist">
      <value>treasure</value>
    </alt>
    <visible type="boolean">false</visible>
    <take />
    <SYNONYM type="string">SCARAB</SYNONYM>
    <ADJECTIVE>BEAUTI CARVED JEWELED</ADJECTIVE>
    <FLAGS>TAKEBIT INVISIBLE</FLAGS>
    <TAKEBIT />
    <INVISIBLE />
    <SIZE type="int">8</SIZE>
    <VALUE type="int">5</VALUE>
    <TVALUE type="int">5</TVALUE>
  </object>

  <object name="LARGE_BAG">
    <inherit name="editor_object" />
    <parent type="object">THIEF</parent>
    <LOC type="object">THIEF</LOC>
    <alias>large bag</alias>
    <alt type="stringlist">
      <value>thief's bag</value>
    </alt>
    <scenery /> <!-- TODO -->
    <SYNONYM>BAG</SYNONYM>
    <ADJECTIVE>LARGE THIEFS</ADJECTIVE>
    <ACTION>LARGE_BAG_F</ACTION>
    <FLAGS>TRYTAKEBIT NDESCBIT</FLAGS>
    <TRYTAKEBIT />
    <NDESCBIT />
  </object>

  <object name="STILETTO">
    <inherit name="editor_object" />
    <parent type="object">THIEF</parent>
    <LOC type="object">THIEF</LOC>
    <alias>stiletto</alias>
    <scenery /> <!-- TODO -->
    <alt type="stringlist">
      <value>vicious stiletto</value>
    </alt>
    <take />
    <SYNONYM>STILETTO</SYNONYM>
    <ADJECTIVE>VICIOUS</ADJECTIVE>
    <ACTION>STILETTO_FUNCTION</ACTION>
    <FLAGS>WEAPONBIT TRYTAKEBIT TAKEBIT NDESCBIT</FLAGS>
    <WEAPONBIT />
    <TRYTAKEBIT />
    <TAKEBIT />
    <NDESCBIT />
    <SIZE type="int">10</SIZE>
  </object>

  <object name="MACHINE_SWITCH">
    <inherit name="editor_object" />
    <parent type="object">MACHINE_ROOM</parent>
    <LOC type="object">MACHINE_ROOM</LOC>
    <alias>switch</alias>
    <scenery />
    <SYNONYM>SWITCH</SYNONYM>
    <FLAGS>NDESCBIT TURNBIT</FLAGS>
    <NDESCBIT />
    <TURNBIT />
    <ACTION>MSWITCH_FUNCTION</ACTION>
  </object>

  <object name="WOODEN_DOOR">
    <inherit name="editor_object" />
    <inherit name="openable" />
    <parent type="object">LIVING_ROOM</parent>
    <LOC type="object">LIVING_ROOM</LOC>
    <alias>wooden door</alias>
    <scenery />
    <feature_container />
    <SYNONYM>DOOR LETTERING WRITING</SYNONYM>
    <ADJECTIVE>WOODEN GOTHIC STRANGE WEST</ADJECTIVE>
    <FLAGS>READBIT DOORBIT NDESCBIT TRANSBIT</FLAGS>
    <ACTION>FRONT_DOOR_FCN</ACTION>
    <TEXT>The engravings translate to "This space intentionally left blank."</TEXT>
    <read>{WOODEN_DOOR.TEXT}</read>
    <look>{WOODEN_DOOR.TEXT}</look>
    <alt type="stringlist">
      <value>gothic lettering</value>
      <value>gothic writing</value>
      <value>west</value>
    </alt>
    <READBIT />
    <DOORBIT />
    <NDESCBIT />
    <TRANSBIT />
  </object>

  <object name="SWORD">
    <inherit name="editor_object" />
    <parent type="object">LIVING_ROOM</parent>
    <LOC type="object">LIVING_ROOM</LOC>
    <alias>sword</alias>
    <take />
    <SYNONYM>SWORD ORCRIST GLAMDRING BLADE</SYNONYM>
    <ADJECTIVE>ELVISH OLD ANTIQUE</ADJECTIVE>
    <FLAGS>TAKEBIT WEAPONBIT TRYTAKEBIT</FLAGS>
    <TAKEBIT />
    <WEAPONBIT />
    <TRYTAKEBIT />
    <ACTION>SWORD_FCN</ACTION>
    <FDESC>Above the trophy case hangs an elvish sword of great antiquity.</FDESC>
    <SIZE type="int">30</SIZE>
    <TVALUE type="int">0</TVALUE>
    <alt type="stringlist">
      <value>elvish sword</value>
    </alt>
  </object>

  <object name="MAP">
    <inherit name="editor_object" />
    <parent type="object">TROPHY_CASE</parent>
    <LOC type="object">TROPHY_CASE</LOC>
    <visible type="boolean">false</visible>
    <alias>ancient map</alias>
    <alt type="stringlist">
      <value>antique parchment</value>
    </alt>
    <look>{MAP.TEXT}</look>
    <take />
    <SYNONYM>PARCHMENT MAP</SYNONYM>
    <ADJECTIVE>ANTIQUE OLD ANCIENT</ADJECTIVE>
    <FLAGS>INVISIBLE READBIT TAKEBIT</FLAGS>
    <INVISIBLE />
    <READBIT />
    <TAKEBIT />
    <FDESC>In the trophy case is an ancient parchment which appears to be a map.</FDESC>
    <SIZE type="int">2</SIZE>
    <TEXT>The map shows a forest with three clearings. The largest clearing contains a house. Three paths leave the large clearing. One of these paths, leading southwest, is marked "To Stone Barrow".</TEXT>
  </object>

  <object name="BOAT_LABEL">
    <inherit name="editor_object" />
    <parent type="object">INFLATED_BOAT</parent>
    <LOC type="object">INFLATED_BOAT</LOC>
    <alias>tan label</alias>
    <take />
    <SYNONYM>LABEL FINEPRINT PRINT</SYNONYM>
    <ADJECTIVE>TAN FINE</ADJECTIVE>
    <FLAGS>READBIT TAKEBIT BURNBIT</FLAGS>
    <READBIT />
    <TAKEBIT />
    <BURNBIT />
    <SIZE type="int">2</SIZE>
    <TEXT><![CDATA[  !!!!FROBOZZ MAGIC BOAT COMPANY!!!!<br/><br/>Hello, Sailor!<br/><br/>Instructions for use:<br/><br/>{=Spaces(4)}To get into a body of water, say "Launch".<br/>{=Spaces(4)}To get to shore, say "Land" or the direction in which you want to maneuver the boat.<br/><br/>Warranty:<br/><br/>{=Spaces(2)}This boat is guaranteed against all defects for a period of 76 milliseconds from date of purchase or until first used, whichever comes first.<br/><br/>Warning:<br/>{=Spaces(4)}This boat is made of thin plastic.<br/>{=Spaces(4)}Good Luck!]]></TEXT>
  </object>

  <object name="THIEF">
    <inherit name="editor_object" />
    <parent type="object">ROUND_ROOM</parent>
    <LOC type="object">ROUND_ROOM</LOC>
    <inherit name="male" />
    <inherit name="surface" />
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <prefix>the</prefix>
    <alias>thief</alias>
    <alt type="stringlist">
      <value>suspicious man</value>
      <value>suspicious person</value>
      <value>robber</value>
    </alt>
    <SYNONYM>THIEF ROBBER MAN PERSON</SYNONYM>
    <ADJECTIVE>SHADY SUSPICIOUS SEEDY</ADJECTIVE>
    <FLAGS>ACTORBIT INVISIBLE CONTBIT OPENBIT TRYTAKEBIT</FLAGS>
    <visible type="boolean">false</visible>
    <feature_container />
    <contentsprefix>who is holding</contentsprefix>
    <listchildren />
    <ACTORBIT type="boolean">true</ACTORBIT>
    <INVISIBLE />
    <CONTBIT />
    <OPENBIT />
    <TRYTAKEBIT />
    <ACTION>ROBBER_FUNCTION</ACTION>
    <LDESC>There is a suspicious-looking individual, holding a large bag, leaning against one wall. He is armed with a deadly stiletto.</LDESC>
    <STRENGTH type="int">5</STRENGTH>
  </object>

  <object name="PEDESTAL">
    <inherit name="editor_object" />
    <inherit name="surface" />
    <parent type="object">TORCH_ROOM</parent>
    <LOC type="object">TORCH_ROOM</LOC>
    <alias>pedestal</alias>
    <scenery />
    <alt type="stringlist">
      <value>white marble pedestal</value>
    </alt>
    <feature_container />
    <SYNONYM>PEDESTAL</SYNONYM>
    <ADJECTIVE>WHITE MARBLE</ADJECTIVE>
    <FLAGS>NDESCBIT CONTBIT OPENBIT SURFACEBIT</FLAGS>
    <NDESCBIT />
    <CONTBIT />
    <OPENBIT />
    <SURFACEBIT />
    <ACTION>DUMB_CONTAINER</ACTION>
    <CAPACITY type="int">30</CAPACITY>
  </object>

  <object name="TORCH">
    <inherit name="editor_object" />
    <parent type="object">PEDESTAL</parent>
    <LOC type="object">PEDESTAL</LOC>
    <alias>torch</alias>
    <take />
    <feature_lightdark />
    <lightsource />
    <alt type="stringlist">
      <value>flaming ivory torch</value>
      <value>flaming torch</value>
      <value>ivory treasure</value>
    </alt>
    <SYNONYM>TORCH IVORY TREASURE</SYNONYM>
    <ADJECTIVE>FLAMING IVORY</ADJECTIVE>
    <FLAGS>TAKEBIT FLAMEBIT ONBIT LIGHTBIT</FLAGS>
    <TAKEBIT />
    <FLAMEBIT />
    <ONBIT />
    <LIGHTBIT />
    <ACTION>TORCH_OBJECT</ACTION>
    <FDESC>Sitting on the pedestal is a flaming torch, made of ivory.</FDESC>
    <SIZE type="int">20</SIZE>
    <VALUE type="int">14</VALUE>
    <TVALUE type="int">6</TVALUE>
    <lightstrength>strong</lightstrength>
  </object>

  <object name="GUIDE">
    <inherit name="editor_object" />
    <parent type="object">DAM_LOBBY</parent>
    <LOC type="object">DAM_LOBBY</LOC>
    <alias>tour guidebook</alias>
    <alt type="stringlist">
      <value>books</value>
    </alt>
    <take />
    <SYNONYM>GUIDE BOOK BOOKS GUIDEBOOKS</SYNONYM>
    <ADJECTIVE>TOUR GUIDE</ADJECTIVE>
    <FLAGS>READBIT TAKEBIT BURNBIT</FLAGS>
    <READBIT />
    <TAKEBIT />
    <BURNBIT />
    <FDESC>Some guidebooks entitled "Flood Control Dam #3" are on the reception desk.</FDESC>
    <TEXT><![CDATA[" Flood Control Dam #3<br/><br/>FCD#3 was constructed in year 783 of the Great Underground Empire to harness the mighty Frigid River. This work was supported by a grant of 37 million zorkmids from your omnipotent local tyrant Lord Dimwit Flathead the Excessive. This impressive structure is composed of 370,000 cubic feet of concrete, is 256 feet tall at the center, and 193 feet wide at the top. The lake created behind the dam has a volume of 1.7 billion cubic feet, an area of 12 million square feet, and a shore line of 36 thousand feet.<br/><br/>The construction of FCD#3 took 112 days from ground breaking to the dedication. It required a work force of 384 slaves, 34 slave drivers, 12 engineers, 2 turtle doves, and a partridge in a pear tree. The work was managed by a command team composed of 2345 bureaucrats, 2347 secretaries (at least two of whom could type), 12,256 paper shufflers, 52,469 rubber stampers, 245,193 red tape processors, and nearly one million dead trees.<br/><br/>We will now point out some of the more interesting features of FCD#3 as we conduct you on a guided tour of the facilities:<br/><br/>        1) You start your tour here in the Dam Lobby. You will notice on your right that...."]]></TEXT>
    <read>{GUIDE.TEXT}</read>
    <look>{GUIDE.TEXT}</look>
  </object>

  <object name="TROLL">
    <inherit name="editor_object" />
    <inherit name="male" />
    <inherit name="surface" />
    <parent type="object">TROLL_ROOM</parent>
    <LOC type="object">TROLL_ROOM</LOC>
    <alias>troll</alias>
    <alt type="stringlist">
      <value>nasty troll</value>
    </alt>
    <ACTORBIT />
    <OPENBIT />
    <TRYTAKEBIT />
    <feature_container />
    <ACTION>TROLL_FCN</ACTION>
    <STRENGTH type="int">2</STRENGTH>
    <LDESC>A nasty-looking troll, brandishing a bloody axe, blocks all passages out of the room.</LDESC>
    <FLAGS>ACTORBIT OPENBIT TRYTAKEBIT</FLAGS>
    <SYNONYM>TROLL</SYNONYM>
    <ADJECTIVE>NASTY</ADJECTIVE>
  </object>

  <object name="TRUNK">
    <inherit name="editor_object" />
    <parent type="object">RESERVOIR</parent>
    <LOC type="object">RESERVOIR</LOC>
    <alias>trunk of jewels</alias>
    <visible type="boolean">false</visible>
    <take />
    <alt type="stringlist">
      <value>old trunk of jewels</value>
      <value>treasure</value>
    </alt>
    <SYNONYM>TRUNK CHEST JEWELS TREASURE</SYNONYM>
    <ADJECTIVE>OLD</ADJECTIVE>
    <FLAGS>TAKEBIT INVISIBLE</FLAGS>
    <TAKEBIT />
    <INVISIBLE />
    <FDESC>Lying half buried in the mud is an old trunk, bulging with jewels.</FDESC>
    <LDESC>There is an old trunk here, bulging with assorted jewels.</LDESC>
    <ACTION>TRUNK_F</ACTION>
    <SIZE type="int">35</SIZE>
    <VALUE type="int">15</VALUE>
    <TVALUE type="int">5</TVALUE>
  </object>

  <object name="TUBE">
    <inherit name="editor_object" />
    <parent type="object">MAINTENANCE_ROOM</parent>
    <LOC type="object">MAINTENANCE_ROOM</LOC>
    <alias>tube</alias>
    <take />
    <alt type="stringlist">
      <value>tooth paste</value>
    </alt>
    <SYNONYM>TUBE TOOTH PASTE</SYNONYM>
    <FLAGS>TAKEBIT CONTBIT READBIT</FLAGS>
    <TAKEBIT />
    <CONTBIT />
    <READBIT />
    <ACTION>TUBE_FUNCTION</ACTION>
    <LDESC>There is an object which looks like a tube of toothpaste here.</LDESC>
    <CAPACITY type="int">7</CAPACITY>
    <SIZE type="int">5</SIZE>
    <TEXT><![CDATA[---> Frobozz Magic Gunk Company \<---<br/>&nbsp;&nbsp;&nbsp;All-Purpose Gunk]]></TEXT>
  </object>

  <object name="PUTTY">
    <inherit name="editor_object" />
    <parent type="object">TUBE</parent>
    <LOC type="object">TUBE</LOC>
    <alias>viscous material</alias>
    <take />
    <alt type="stringlist">
      <value>viscous gunk</value>
    </alt>
    <SYNONYM>MATERIAL GUNK</SYNONYM>
    <ADJECTIVE>VISCOUS</ADJECTIVE>
    <FLAGS>TAKEBIT TOOLBIT</FLAGS>
    <TAKEBIT />
    <TOOLBIT type="boolean">false</TOOLBIT>
    <SIZE type="int">6</SIZE>
    <ACTION>PUTTY_FCN</ACTION>
  </object>

  <object name="ENGRAVINGS">
    <inherit name="editor_object" />
    <parent type="object">ENGRAVINGS_CAVE</parent>
    <LOC type="object">ENGRAVINGS_CAVE</LOC>
    <alias>wall with engravings</alias>
    <alt type="stringlist">
      <value>inscription</value>
    </alt>
    <SYNONYM>WALL ENGRAVINGS INSCRIPTION</SYNONYM>
    <ADJECTIVE>OLD ANCIENT</ADJECTIVE>
    <FLAGS>READBIT SACREDBIT</FLAGS>
    <READBIT />
    <SACREDBIT />
    <LDESC type="string">There are old engravings on the walls here.</LDESC>
    <TEXT>The engravings were incised in the living rock of the cave wall by an unknown hand. They depict, in symbolic form, the beliefs of the ancient Zorkers. Skillfully interwoven with the bas reliefs are excerpts illustrating the major religious tenets of that time. Unfortunately, a later age seems to have considered them blasphemous and just as skillfully excised them.</TEXT>
    <read>{ENGRAVINGS.TEXT}</read>
    <look>{ENGRAVINGS.TEXT}</look>
  </object>

  <object name="OWNERS_MANUAL">
    <inherit name="editor_object" />
    <parent type="object">STUDIO</parent>
    <LOC type="object">STUDIO</LOC>
    <alias>ZORK owner's manual</alias>
    <take />
    <SYNONYM>MANUAL PIECE PAPER</SYNONYM>
    <ADJECTIVE>ZORK OWNERS SMALL</ADJECTIVE>
    <FLAGS>READBIT TAKEBIT</FLAGS>
    <READBIT />
    <TAKEBIT />
    <FDESC>Loosely attached to a wall is a small piece of paper.</FDESC>
    <TEXT><![CDATA[Congratulations!<br/><br/>You are the privileged owner of ZORK I: The Great Underground Empire, a self-contained and self-maintaining universe. If used and maintained in accordance with normal operating practices for small universes, ZORK will provide many months of trouble-free operation.]]></TEXT>
    <look>{OWNERS_MANUAL.TEXT}</look>
    <read>{OWNERS_MANUAL.TEXT}</read>
  </object>

  <object name="CLIMBABLE_CLIFF">
    <inherit name="editor_object" />
    <parent type="object">LOCAL_GLOBALS</parent>
    <LOC type="object">LOCAL_GLOBALS</LOC>
    <alias>cliff</alias>
    <scenery />
    <SYNONYM>WALL CLIFF WALLS LEDGE</SYNONYM>
    <ADJECTIVE>ROCKY SHEER</ADJECTIVE>
    <ACTION>CLIFF_OBJECT</ACTION>
    <FLAGS>NDESCBIT CLIMBBIT</FLAGS>
    <NDESCBIT />
    <CLIMBBIT />
  </object>

  <object name="WHITE_CLIFF">
    <inherit name="editor_object" />
    <parent type="object">LOCAL_GLOBALS</parent>
    <LOC type="object">LOCAL_GLOBALS</LOC>
    <alias>white cliffs</alias>
    <scenery />
    <SYNONYM>CLIFF CLIFFS</SYNONYM>
    <ADJECTIVE>WHITE</ADJECTIVE>
    <FLAGS>NDESCBIT CLIMBBIT</FLAGS>
    <ACTION>WCLIF_OBJECT</ACTION>
  </object>

  <object name="WRENCH">
    <inherit name="editor_object" />
    <parent type="object">MAINTENANCE_ROOM</parent>
    <LOC type="object">MAINTENANCE_ROOM</LOC>
    <alias>wrench</alias>
    <take />
    <SYNONYM>WRENCH TOOL TOOLS</SYNONYM>
    <alt type="stringlist">
      <value>tools</value>
    </alt>
    <FLAGS>TAKEBIT TOOLBIT</FLAGS>
    <TAKEBIT />
    <TOOLBIT />
    <SIZE type="int">10</SIZE>
  </object>

  <object name="CONTROL_PANEL">
    <inherit name="editor_object" />
    <parent type="object">DAM_ROOM</parent>
    <LOC type="object">DAM_ROOM</LOC>
    <alias>control panel</alias>
    <scenery />
    <SYNONYM>PANEL</SYNONYM>
    <ADJECTIVE>CONTROL</ADJECTIVE>
    <FLAGS>NDESCBIT</FLAGS>
    <NDESCBIT />
  </object>

  <object name="NEST">
    <inherit name="editor_object" />
    <inherit name="container_open" />
    <parent type="object">UP_A_TREE</parent>
    <LOC type="object">UP_A_TREE</LOC>
    <alias>bird's nest</alias>
    <take />
    <feature_container />
    <open type="boolean">false</open>
    <close type="boolean">false</close>
    <listchildren />
    <SYNONYM>NEST</SYNONYM>
    <ADJECTIVE>BIRDS</ADJECTIVE>
    <FLAGS>TAKEBIT BURNBIT CONTBIT OPENBIT SEARCHBIT</FLAGS>
    <TAKEBIT />
    <BURNBIT />
    <CONTBIT />
    <OPENBIT />
    <SEARCHBIT />
    <FDESC>Beside you on the branch is a small bird's nest.</FDESC>
    <CAPACITY type="int">20</CAPACITY>
  </object>

  <object name="EGG">
    <inherit name="editor_object" />
    <inherit name="container_closed" />
    <parent type="object">NEST</parent>
    <LOC type="object">NEST</LOC>
    <alias>jewel-encrusted egg</alias>
    <take />
    <feature_container />
    <alt type="stringlist">
      <value>treasure</value>
    </alt>
    <SYNONYM>EGG TREASURE</SYNONYM>
    <ADJECTIVE>BIRDS ENCRUSTED JEWELED</ADJECTIVE>
    <FLAGS>TAKEBIT CONTBIT SEARCHBIT</FLAGS>
    <TAKEBIT />
    <CONTBIT />
    <SEARCHBIT />
    <ACTION>EGG_OBJECT</ACTION>
    <VALUE type="int">5</VALUE>
    <TVALUE type="int">5</TVALUE>
    <CAPACITY type="int">6</CAPACITY>
    <FDESC>In the bird's nest is a large egg encrusted with precious jewels, apparently scavenged by a childless songbird. The egg is covered with fine gold inlay, and ornamented in lapis lazuli and mother-of-pearl. Unlike most eggs, this one is hinged and closed with a delicate looking clasp. The egg appears extremely fragile.</FDESC>
    <listchildren />
  </object>

  <object name="BROKEN_EGG">
    <inherit name="editor_object" />
    <inherit name="container_open" />
    <alias>broken jewel-encrusted egg</alias>
    <take />
    <feature_container />
    <listchildren />
    <SYNONYM>EGG TREASURE</SYNONYM>
    <ADJECTIVE>BROKEN BIRDS ENCRUSTED JEWEL</ADJECTIVE>
    <alt type="stringlist">
      <value>treasure</value>
    </alt>
    <FLAGS>TAKEBIT CONTBIT OPENBIT</FLAGS>
    <TAKEBIT />
    <CONTBIT />
    <OPENBIT />
    <CAPACITY type="int">6</CAPACITY>
    <TVALUE type="int">2</TVALUE>
    <LDESC>There is a somewhat ruined egg here.</LDESC>
  </object>
  
  <object name="BAUBLE">
    <inherit name="editor_object" />
    <alias>beautiful brass bauble</alias>
    <alt type="stringlist">
      <value>treasure</value>
    </alt>
    <take />
    <SYNONYM>BAUBLE TREASURE</SYNONYM>
    <ADJECTIVE>BRASS BEAUTI</ADJECTIVE>
    <FLAGS>TAKEBIT</FLAGS>
    <TAKEBIT />
    <VALUE type="int">1</VALUE>
    <TVALUE type="int">1</TVALUE>
  </object>

  <object name="CANARY">
    <inherit name="editor_object" />
    <parent type="object">EGG</parent>
    <LOC type="object">EGG</LOC>
    <alias>golden clockwork canary</alias>
    <alt type="stringlist">
      <value>treasure</value>
    </alt>
    <take />
    <SYNONYM>CANARY TREASURE</SYNONYM>
    <ADJECTIVE>CLOCKWORK GOLD GOLDEN</ADJECTIVE>
    <FLAGS>TAKEBIT SEARCHBIT</FLAGS>
    <TAKEBIT />
    <SEARCHBIT />
    <ACTION>CANARY_OBJECT</ACTION>
    <VALUE type="int">6</VALUE>
    <TVALUE type="int">4</TVALUE>
    <FDESC>There is a golden clockwork canary nestled in the egg. It has ruby eyes and a silver beak. Through a crystal window below its left wing you can see intricate machinery inside. It appears to have wound down.</FDESC>
  </object>

  <object name="BROKEN_CANARY">
    <inherit name="editor_object" />
    <alias>golden clockwork canary</alias>
    <parent type="object">BROKEN_EGG</parent>
    <LOC type="object">BROKEN_EGG</LOC>
    <alt type="stringlist">
      <value>treasure</value>
    </alt>
    <take />
    <SYNONYM>CANARY TREASURE</SYNONYM>
    <ADJECTIVE>CLOCKWORK GOLD GOLDEN</ADJECTIVE>
    <FLAGS>TAKEBIT SEARCHBIT</FLAGS>
    <TAKEBIT />
    <SEARCHBIT />
    <ACTION>CANARY_OBJECT</ACTION>
    <TVALUE type="int">1</TVALUE>
    <FDESC>There is a golden clockwork canary nestled in the egg. It seems to have recently had a bad experience. The mountings for its jewel-like eyes are empty, and its silver beak is crumpled. Through a cracked crystal window below its left wing you can see the remains of intricate machinery. It is not clear what result winding it would have, as the mainspring seems sprung.</FDESC>
  </object>


<!--
    SUBTITLE ROOMS
-->

<!--
    ;"All globals (and constants) are attributes of an object named GLOBAL."
    ;"See the file z1globals.aslx."
      
  SUBTITLE CONDITIONAL EXIT FLAGS"

  <GLOBAL CYCLOPS-FLAG <>>
  <GLOBAL DEFLATE <>>
  <GLOBAL DOME-FLAG <>>
  <GLOBAL EMPTY-HANDED <>>
  <GLOBAL LLD-FLAG <>>
  <GLOBAL LOW-TIDE <>>
  <GLOBAL MAGIC-FLAG <>>
  <GLOBAL RAINBOW-FLAG <>>
  <GLOBAL TROLL-FLAG <>>
  <GLOBAL WON-FLAG <>>
  <GLOBAL COFFIN-CURE <>>
-->

<!--
    SUBTITLE FOREST AND OUTSIDE OF HOUSE
-->

  <object name="WEST_OF_HOUSE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>West of House</alias>
    <ACTION>WEST_HOUSE</ACTION>
    <GLOBAL>WHITE_HOUSE BOARD FOREST</GLOBAL>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <exit alias="north" to="NORTH_OF_HOUSE">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="SOUTH_OF_HOUSE">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="northeast" to="NORTH_OF_HOUSE">
      <inherit name="northeastdirection" />
      <UEXIT />
    </exit>
    <exit alias="southeast" to="SOUTH_OF_HOUSE">
      <inherit name="southeastdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="FOREST_1">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="NEXIT">
      <inherit name="eastdirection" />
      <scenery />
      <locked />
      <lockmessage>The door is boarded and you can't remove the boards.</lockmessage>
      <NEXIT />
    </exit>
    <exit alias="southwest" to="STONE_BARROW">
      <inherit name="southwestdirection" />
      <runscript />
      <scenery />
      <CEXIT />
      <script type="script">
        if (GLOBAL.WON_FLAG) {
          GOTO (STONE_BARROW, true)
        }
        else {
          msg (Template("UnresolvedLocation"))
        }
      </script>
    </exit>
    <exit alias="in" to="STONE_BARROW">
      <inherit name="indirection" />
      <runscript />
      <scenery />
      <CEXIT />
      <script type="script">
        if (GLOBAL.WON_FLAG) {
          GOTO (STONE_BARROW, true)
        }
        else {
          msg (Template("UnresolvedLocation"))
        }
      </script>
    </exit>
  </object>

  <object name="STONE_BARROW">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <alias>Stone Barrow</alias>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <LDESC>You are standing in front of a massive barrow of stone. In the east face is a huge stone door which is open. You cannot see into the dark of the tomb.</LDESC>
    <ACTION>STONE_BARROW_FCN</ACTION>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <exit alias="northeast" to="NORTH_OF_HOUSE">
      <inherit name="northeastdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="BARROW">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="in" to="BARROW">
      <inherit name="indirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="NORTH_OF_HOUSE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <alias>North of House</alias>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <LDESC>You are facing the north side of a white house. There is no door here, and all the windows are boarded up. To the north a narrow path winds through the trees.</LDESC>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <GLOBAL>BOARDED_WINDOW BOARD WHITE_HOUSE FOREST</GLOBAL>
    <exit alias="southwest" to="WEST_OF_HOUSE">
      <inherit name="southwestdirection" />
      <UEXIT />
    </exit>
    <exit alias="southeast" to="EAST_OF_HOUSE">
      <inherit name="southeastdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="WEST_OF_HOUSE">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="EAST_OF_HOUSE">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="PATH">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="NEXIT">
      <inherit name="southdirection" />
      <locked />
      <lockmessage>All windows are boarded.</lockmessage>
      <NEXIT />
      <scenery />
    </exit>
  </object>

  <object name="SOUTH_OF_HOUSE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <LDESC>You are facing the south side of a white house. There is no door here, and all the windows are boarded.</LDESC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>South of House</alias>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <GLOBAL>BOARDED_WINDOW BOARD WHITE_HOUSE FOREST</GLOBAL>
    <exit alias="west" to="WEST_OF_HOUSE">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="EAST_OF_HOUSE">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="northeast" to="EAST_OF_HOUSE">
      <inherit name="northeastdirection" />
      <UEXIT />
    </exit>
    <exit alias="northwest" to="WEST_OF_HOUSE">
      <inherit name="northwestdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="FOREST_3">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="NEXIT">
      <inherit name="northdirection" />
      <locked />
      <scenery />
      <lockmessage>The windows are all boarded.</lockmessage>
      <NEXIT />
    </exit>
  </object>

  <object name="EAST_OF_HOUSE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <alias>Behind House</alias>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <ACTION>EAST_HOUSE</ACTION>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <GLOBAL>WHITE_HOUSE KITCHEN_WINDOW FOREST</GLOBAL>
    <description type="script">
    </description>
    <exit alias="north" to="NORTH_OF_HOUSE">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="northwest" to="NORTH_OF_HOUSE">
      <inherit name="northwestdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="SOUTH_OF_HOUSE">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="southwest" to="SOUTH_OF_HOUSE">
      <inherit name="southwestdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="CLEARING">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="KITCHEN">
      <inherit name="westdirection" />
      <runscript />
      <DEXIT />
      <DEXITSTR>The kitchen window is closed.</DEXITSTR>
      <DEXITOBJ type="object">KITCHEN_WINDOW</DEXITOBJ>
      <REXIT type="object">KITCHEN</REXIT>
      <script type="script">
        if (KITCHEN_WINDOW.isopen) {
          GOTO (KITCHEN, true)
        }
        else {
          msg ("The kitchen window is closed.")
        }
      </script>
    </exit>
    <exit alias="in" to="KITCHEN">
      <inherit name="indirection" />
      <runscript />
      <DEXIT />
      <DEXITSTR>The kitchen window is closed.</DEXITSTR>
      <DEXITOBJ type="object">KITCHEN_WINDOW</DEXITOBJ>
      <REXIT type="object">KITCHEN</REXIT>
      <script type="script">
        if (KITCHEN_WINDOW.OPENBIT) {
          GOTO (KITCHEN, true)
        }
        else {
          msg ("The kitchen window is closed.")
        }
      </script>
    </exit>
  </object>

  <object name="FOREST_1">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Forest</alias>
    <LDESC>This is a forest, with trees in all directions. To the east, there appears to be sunlight.</LDESC>
    <ACTION>FOREST_ROOM</ACTION>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <GLOBAL>TREE SONGBIRD WHITE_HOUSE FOREST</GLOBAL>
    <exit alias="up" to="NEXIT">
      <inherit name="updirection" />
      <locked />
      <lockmessage>There is no tree here suitable for climbing.</lockmessage>
      <NEXIT />
      <scenery />
    </exit>
    <exit alias="north" to="GRATING_CLEARING">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="PATH">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="FOREST_3">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="NEXIT">
      <inherit name="westdirection" />
      <locked />
      <lockmessage>You would need a machete to go further west.</lockmessage>
      <NEXIT />
      <scenery />
    </exit>
  </object>

  <object name="FOREST_2">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <LDESC>This is a dimly lit forest, with large trees all around.</LDESC>
    <alias>Forest</alias>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <ACTION>FOREST_ROOM</ACTION>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <GLOBAL>TREE SONGBIRD WHITE_HOUSE FOREST</GLOBAL>
    <exit alias="up" to="NEXIT">
      <inherit name="updirection" />
      <scenery />
      <locked />
      <lockmessage>There is no tree here suitable for climbing.</lockmessage>
      <NEXIT />
    </exit>
    <exit alias="north" to="NEXIT">
      <inherit name="northdirection" />
      <locked />
      <lockmessage>The forest becomes impenetrable to the north.</lockmessage>
      <NEXIT />
    </exit>
    <exit alias="east" to="MOUNTAINS">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="CLEARING">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="PATH">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="MOUNTAINS">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Forest</alias>
    <LDESC>The forest thins out, revealing impassable mountains.</LDESC>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <GLOBAL>TREE WHITE_HOUSE</GLOBAL>

    <exit alias="up" to="NEXIT">
      <inherit name="updirection" />
      <locked />
      <lockmessage>The mountains are impassable.</lockmessage>
      <NEXIT />
      <scenery />
    </exit>
    <exit alias="north" to="FOREST_2">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="NEXIT">
      <inherit name="eastdirection" />
      <locked />
      <scenery />
      <lockmessage>The mountains are impassable.</lockmessage>
      <NEXIT />
    </exit>
    <exit alias="south" to="FOREST_2">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="FOREST_2">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="FOREST_3">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <alias>Forest</alias>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <LDESC>This is a dimly lit forest, with large trees all around.</LDESC>
    <ACTION>FOREST_ROOM</ACTION>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <GLOBAL>TREE SONGBIRD WHITE_HOUSE FOREST</GLOBAL>
    <exit alias="north" to="CLEARING">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="FOREST_1">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="northwest" to="SOUTH_OF_HOUSE">
      <inherit name="northwestdirection" />
      <UEXIT />
    </exit>
    <exit alias="up" to="NEXIT">
      <inherit name="updirection" />
      <locked />
      <lockmessage>There is no tree here suitable for climbing.</lockmessage>
      <scenery />
      <NEXIT />
    </exit>
    <exit alias="east" to="NEXIT">
      <inherit name="eastdirection" />
      <scenery />
      <locked />
      <lockmessage>The rank undergrowth prevents eastward movement.</lockmessage>
      <NEXIT />
    </exit>
    <exit alias="south" to="NEXIT">
      <inherit name="southdirection" />
      <scenery />
      <locked />
      <lockmessage>Storm-tossed trees block your way.</lockmessage>
      <NEXIT />
    </exit>
  </object>

  <object name="PATH">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <LDESC>This is a path winding through a dimly lit forest. The path heads north-south here. One particularly large tree with some low branches stands at the edge of the path.</LDESC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Forest Path</alias>
    <ACTION>FOREST_ROOM</ACTION>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <GLOBAL>TREE SONGBIRD WHITE_HOUSE FOREST</GLOBAL>
    <exit alias="south" to="NORTH_OF_HOUSE">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="up" to="UP_A_TREE">
      <inherit name="updirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="GRATING_CLEARING">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="FOREST_2">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="FOREST_1">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="UP_A_TREE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <alias>Up a Tree</alias>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <ACTION>TREE_ROOM</ACTION>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <GLOBAL>TREE FOREST SONGBIRD WHITE_HOUSE</GLOBAL>
    <exit alias="down" to="PATH">
      <inherit name="downdirection" />
    </exit>
    <exit alias="up" to="NEXIT">
      <inherit name="updirection" />
      <scenery />
      <locked />
      <lockmessage>You cannot climb any higher.</lockmessage>
      <NEXIT />
    </exit>
  </object>

  <object name="GRATING_CLEARING">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <alias>Clearing</alias>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <ACTION>CLEARING_FCN</ACTION>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <GLOBAL>WHITE_HOUSE GRATE</GLOBAL>
    <exit alias="north" to="NEXIT">
      <inherit name="northdirection" />
      <scenery />
      <locked />
      <lockmessage>The forest becomes impenetrable to the north.</lockmessage>
      <NEXIT />
    </exit>
    <exit alias="east" to="FOREST_2">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="FOREST_1">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="PATH">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="GRATING_ROOM">
      <inherit name="downdirection" />
      <runscript />
      <CEXIT />
      <script type="script">
        // GRATING_EXIT
        if (GLOBAL.GRATE_REVEALED) {
          if (GRATE.isopen) {
            GOTO (GRATING_ROOM, true)
          }
          else {
            TELL ("The grating is closed!")
            THIS_IS_IT (GRATE)
          }
        }
        else {
          msg (Template("UnresolvedLocation"))
        }
      </script>
    </exit>
  </object>

  <function name="GRATING_EXIT" type="object">
    if (GetBoolean(GLOBAL, "GRATE_REVEALED")) {
      if (FSET_P(GRATE,"OPENBIT") or FSET_P(GRATE, "OPENBIT")) {
        return (GRATING_ROOM)
      }
      else {
        msg ("The grating is closed!")
        THIS_IS_IT (GRATE)
        return (NOTHING)
      }
    }
    else {
      msg ("You can't go that way.")
      return (NOTHING)
    }
  </function>

  <object name="CLEARING">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Clearing</alias>
    <LDESC>You are in a small clearing in a well marked forest path that extends to the east and west.</LDESC>
    <ACTION>FOREST_ROOM</ACTION>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <GLOBAL>TREE SONGBIRD WHITE_HOUSE FOREST</GLOBAL>
    <exit alias="west" to="EAST_OF_HOUSE">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="up" to="NEXIT">
      <inherit name="updirection" />
      <scenery />
      <locked />
      <lockmessage>There is no tree here suitable for climbing.</lockmessage>
      <NEXIT />
    </exit>
    <exit alias="east" to="CANYON_VIEW">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="FOREST_2">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="FOREST_3">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
  </object>

<!--
    SUBTITLE HOUSE
-->

  <object name="KITCHEN">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Kitchen</alias>
    <ACTION>KITCHEN_FCN</ACTION>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <VALUE type="int">10</VALUE>
    <GLOBAL>KITCHEN_WINDOW CHIMNEY STAIRS</GLOBAL>
    <exit alias="east" to="EAST_OF_HOUSE">
      <inherit name="eastdirection" />
      <runscript />
      <DEXIT />
      <DEXITSTR>The kitchen window is closed.</DEXITSTR>
      <DEXITOBJ type="object">KITCHEN_WINDOW</DEXITOBJ>
      <REXIT type="object">EAST_OF_HOUSE</REXIT>
      <script type="script">
        if (KITCHEN_WINDOW.isopen or FSET_P(KITCHEN_WINDOW,"OPENBIT")) {
          GOTO (EAST_OF_HOUSE, true)
        }
        else {
          msg ("The kitchen window is closed.")
        }
      </script>
    </exit>
    <exit alias="out" to="EAST_OF_HOUSE">
      <inherit name="outdirection" />
      <runscript />
      <DEXIT />
      <DEXITSTR>The kitchen window is closed.</DEXITSTR>
      <DEXITOBJ type="object">KITCHEN_WINDOW</DEXITOBJ>
      <REXIT type="object">EAST_OF_HOUSE</REXIT>
      <script type="script">
        if (KITCHEN_WINDOW.isopen or FSET_P(KITCHEN_WINDOW,"OPENBIT")) {
          GOTO (EAST_OF_HOUSE, true)
        }
        else {
          msg ("The kitchen window is closed.")
        }
      </script>
    </exit>
    <exit alias="up" to="ATTIC">
      <inherit name="updirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="STUDIO">
      <inherit name="downdirection" />
      <runscript />
      <CEXIT />
      <script type="script">
        if (GLOBAL.FALSE_FLAG) {
          GOTO (STUDIO, true)
        }
        else {
          msg ("Only Santa Claus climbs down chimneys.")
        }
      </script>
    </exit>
    <exit alias="west" to="LIVING_ROOM">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="ATTIC">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Attic</alias>
    <LDESC>This is the attic. The only exit is a stairway leading down.</LDESC>
    <RLANDBIT />
    <SACREDBIT />
    <dark />
    <GLOBAL>STAIRS</GLOBAL>
    <exit alias="down" to="KITCHEN">
      <inherit name="downdirection" />
      <lightsource />
      <lightstrength>weak</lightstrength>
      <UEXIT />
    </exit>
  </object>

  <object name="LIVING_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Living Room</alias>
    <ACTION>LIVING_ROOM_FCN</ACTION>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <GLOBAL>STAIRS</GLOBAL>
    <PSEUDO>"NAILS" NAILS_PSEUDO "NAIL" NAILS_PSEUDO</PSEUDO>
    <exit alias="east" to="KITCHEN">
      <inherit name="eastdirection" />
    </exit>
    <exit alias="west" to="STRANGE_PASSAGE">
      <inherit name="westdirection" />
      <runscript />
      <CEXIT />
      <script type="script">
        if (GLOBAL.MAGIC_FLAG) {
          GOTO (STRANGE_PASSAGE, true)
        }
        else {
          msg ("The door is nailed shut.")
        }
      </script>
    </exit>
    <exit alias="down" to="FEXIT">
      <inherit name="downdirection" />
      <runscript />
      <FEXIT />
      <script type="script">
        // TRAP_DOOR_EXIT
        if (GLOBAL.RUG_MOVED) {
          if (TRAP_DOOR.isopen) {
            GOTO (CELLAR, true)
          }
          else {
            msg ("The trap door is closed.")
            THIS_IS_IT (TRAP_DOOR)
          }
        }
        else {
          msg (Template("UnresolvedLocation"))
        }
      </script>
    </exit>
  </object>

<!--
    SUBTITLE CELLAR AND VICINITY
-->

  <object name="CELLAR">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Cellar</alias>
    <ACTION>CELLAR_FCN</ACTION>
    <RLANDBIT />
    <dark />
    <VALUE type="int">25</VALUE>
    <GLOBAL>TRAP_DOOR SLIDE STAIRS</GLOBAL>
    <exit name="CELLAR_to_TROLL_ROOM" alias="north" to="TROLL_ROOM">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="EAST_OF_CHASM">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="up" to="LIVING_ROOM">
      <inherit name="updirection" />
      <runscript />
      <DEXIT />
      <DEXITSTR>The trap door is closed.</DEXITSTR>
      <DEXITOBJ type="object">TRAP_DOOR</DEXITOBJ>
      <REXIT type="object">LIVING_ROOM</REXIT>
      <script type="script">
        if (FSET_P(TRAP_DOOR,"OPENBIT")) {
          GOTO (LIVING_ROOM, true)
        }
        else {
          msg ("The trap door is closed.")
        }
      </script>
    </exit>
    <exit alias="west" to="NEXIT">
      <inherit name="westdirection" />
      <scenery />
      <locked />
      <lockmessage>You try to ascend the ramp, but it is impossible, and you slide back down.</lockmessage>
      <NEXIT />
    </exit>
  </object>
 
 <object name="TROLL_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <alias>The Troll Room</alias>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <LDESC>This is a small room with passages to the east and south and a forbidding hole leading west. Bloodstains and deep scratches (perhaps made by an axe) mar the walls.</LDESC>
    <RLANDBIT />
    <ACTION>TROLL_ROOM_F</ACTION>
    <dark />
    <exit alias="south" to="CELLAR">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="FEXIT">
      <inherit name="eastdirection" />
      <runscript />
      <FEXIT />
      <script type="script">
        if (GLOBAL.TROLL_FLAG) {
          GOTO (EW_PASSAGE, true)
        }
        else {
          msg ("The troll fends you off with a menacing gesture.")
        }
      </script>
    </exit>
    <exit alias="west" to="FEXIT">
      <inherit name="westdirection" />
      <runscript />
      <CEXIT />
      <script type="script">
        if (GLOBAL.TROLL_FLAG) {
          GOTO (MAZE_1, true)
        }
        else {
          msg ("The troll fends you off with a menacing gesture.")
        }
      </script>
    </exit>
  </object>

  <object name="EAST_OF_CHASM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>East of Chasm</alias>
    <LDESC>You are on the east edge of a chasm, the bottom of which cannot be seen. A narrow passage goes north, and the path you are on continues to the east.</LDESC>
    <RLANDBIT />
    <PSEUDO>"CHASM" CHASM_PSEUDO</PSEUDO>
    <dark />
    <exit alias="north" to="CELLAR">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="GALLERY">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="NEXIT">
      <inherit name="downdirection" />
      <locked />
      <lockmessage>The chasm probably leads straight to the infernal regions.</lockmessage>
      <NEXIT />
      <scenery />
    </exit>
  </object>

  <object name="GALLERY">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <LDESC>This is an art gallery. Most of the paintings have been stolen by vandals with exceptional taste. The vandals left through either the north or west exits.</LDESC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Gallery</alias>
    <RLANDBIT />
    <ONBIT />
    <exit alias="west" to="EAST_OF_CHASM">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="STUDIO">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="STUDIO">
    <inherit name="editor_room" />
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <alias>Studio</alias>
    <LDESC>This appears to have been an artist's studio. The walls and floors are splattered with paints of 69 different colors. Strangely enough, nothing of value is hanging here. At the south end of the room is an open door (also covered with paint). A dark and narrow chimney leads up from a fireplace; although you might be able to get up it, it seems unlikely you could get back down.</LDESC>
    <dark />
    <RLANDBIT />
    <GLOBAL>CHIMNEY</GLOBAL>
    <PSEUDO>"DOOR" DOOR_PSEUDO "PAINT" PAINT_PSEUDO</PSEUDO>
    <exit alias="south" to="GALLERY">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="up" to="FEXIT">
      <inherit name="updirection" />
      <FEXIT />
      <runscript />
      <script type="script">
        exit_to = UP_CHIMNEY_FUNCTION()
        if (not exit_to = NOTHING) {
          GOTO (exit_to, true)
        }
      </script>
    </exit>
  </object>

<!--
    SUBTITLE MAZE
-->

  <object name="MAZE_1">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Maze</alias>
    <LDESC>This is part of a maze of twisty little passages, all alike.</LDESC>
    <RLANDBIT />
    <MAZEBIT />
    <dark />
    <exit alias="east" to="TROLL_ROOM">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="MAZE_1">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="MAZE_2">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="MAZE_4">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="MAZE_2">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Maze</alias>
    <LDESC>This is part of a maze of twisty little passages, all alike.</LDESC>
    <dark />
    <RLANDBIT />
    <MAZEBIT />
    <exit alias="south" to="MAZE_1">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="MAZE_3">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="FEXIT">
      <inherit name="downdirection" />
      <FEXIT />
      <runscript />
      <script type="script">
        // TO MAZE_4
        exit_to = MAZE_DIODES()
        if (not exit_to = NOTHING){
          GOTO (exit_to, true)
        }
      </script>
    </exit>
  </object>

  <object name="MAZE_3">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <LDESC>This is part of a maze of twisty little passages, all alike.</LDESC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Maze</alias>
    <dark />
    <RLANDBIT />
    <MAZEBIT />
    <exit alias="west" to="MAZE_2">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="MAZE_4">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="up" to="MAZE_5">
      <inherit name="updirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="MAZE_4">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Maze</alias>
    <LDESC>This is part of a maze of twisty little passages, all alike.</LDESC>
    <dark />
    <RLANDBIT />
    <MAZEBIT />
    <exit alias="west" to="MAZE_3">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="MAZE_1">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="DEAD_END_1">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="DEAD_END_1">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Dead End</alias>
    <LDESC>You have come to a dead end in the maze.</LDESC>
    <dark />
    <RLANDBIT />
    <MAZEBIT />
    <exit alias="south" to="MAZE_4">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="MAZE_5">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Maze</alias>
    <LDESC>This is part of a maze of twisty little passages, all alike. A skeleton, probably the remains of a luckless adventurer, lies here.</LDESC>
    <dark />
    <RLANDBIT />
    <MAZEBIT />
    <exit alias="east" to="DEAD_END_2">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="MAZE_3">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="southwest" to="MAZE_6">
      <inherit name="southwestdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="DEAD_END_2">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Dead End</alias>
    <LDESC>You have come to a dead end in the maze.</LDESC>
    <dark />
    <RLANDBIT />
    <MAZEBIT />
    <exit alias="west" to="MAZE_5">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="MAZE_6">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Maze</alias>
    <LDESC>This is part of a maze of twisty little passages, all alike.</LDESC>
    <dark />
    <RLANDBIT />
    <MAZEBIT />
    <exit alias="down" to="MAZE_5">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="MAZE_7">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="MAZE_6">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="up" to="MAZE_9">
      <inherit name="updirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="MAZE_7">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Maze</alias>
    <LDESC>This is part of a maze of twisty little passages, all alike.</LDESC>
    <dark />
    <RLANDBIT />
    <MAZEBIT />
    <exit alias="up" to="MAZE_14">
      <inherit name="updirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="MAZE_6">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="FEXIT">
      <inherit name="downdirection" />
      <FEXIT />
      <runscript />
      <script type="script">
        // TO DEAD_END_1
        MAZE_DIODES
      </script>
    </exit>
    <exit alias="east" to="MAZE_8">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="MAZE_15">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="MAZE_8">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Maze</alias>
    <LDESC>This is part of a maze of twisty little passages, all alike.</LDESC>
    <dark />
    <RLANDBIT />
    <MAZEBIT />
    <exit alias="northeast" to="MAZE_7">
      <inherit name="northeastdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="MAZE_8">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="southeast" to="DEAD_END_3">
      <inherit name="southeastdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="DEAD_END_3">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Dead End</alias>
    <LDESC>You have come to a dead end in the maze.</LDESC>
    <dark />
    <RLANDBIT />
    <MAZEBIT />
    <exit alias="north" to="MAZE_8">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="MAZE_9">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Maze</alias>
    <LDESC>This is part of a maze of twisty little passages, all alike.</LDESC>
    <dark />
    <RLANDBIT />
    <MAZEBIT />
    <exit alias="north" to="MAZE_6">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="FEXIT">
      <inherit name="downdirection" />
      <FEXIT />
      <runscript />
      <script type="script">
        // TO MAZE_11
        MAZE_DIODES
      </script>
    </exit>
    <exit alias="east" to="MAZE_10">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="MAZE_13">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="MAZE_12">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="northwest" to="MAZE_9">
      <inherit name="northwestdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="MAZE_10">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <LDESC>This is part of a maze of twisty little passages, all alike.</LDESC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Maze</alias>
    <dark />
    <RLANDBIT />
    <MAZEBIT />
    <exit alias="east" to="MAZE_9">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="MAZE_13">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="up" to="MAZE_11">
      <inherit name="updirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="MAZE_11">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Maze</alias>
    <LDESC>This is part of a maze of twisty little passages, all alike.</LDESC>
    <dark />
    <RLANDBIT />
    <MAZEBIT />
    <exit alias="northeast" to="GRATING_ROOM">
      <inherit name="northeastdirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="MAZE_10">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
    <exit alias="northwest" to="MAZE_13">
      <inherit name="northwestdirection" />
      <UEXIT />
    </exit>
    <exit alias="southwest" to="MAZE_12">
      <inherit name="southwestdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="GRATING_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Grating Room</alias>
    <dark />
    <ACTION>MAZE_11_FCN</ACTION>
    <GLOBAL>GRATE</GLOBAL>
    <RLANDBIT />
    <exit alias="southwest" to="MAZE_11">
      <inherit name="southwestdirection" />
      <UEXIT />
    </exit>
    <exit alias="up" to="GRATING_CLEARING">
      <inherit name="updirection" />
      <runscript />
      <DEXIT />
      <DEXITSTR>The grating is closed.</DEXITSTR>
      <DEXITOBJ type="object">GRATE</DEXITOBJ>
      <REXIT type="object">GRATING_CLEARING</REXIT>
      <script type="script">
        // TO GRATING_CLEARING
        if (GRATE.isopen) {
          GOTO (GRATING_CLEARING, true)
        }
        else {
          msg ("The grating is closed.")
        }
      </script>
    </exit>
  </object>

  <object name="MAZE_12">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <alias>Maze</alias>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <LDESC>This is part of a maze of twisty little passages, all alike.</LDESC>
    <dark />
    <RLANDBIT />
    <MAZEBIT />
    <exit alias="down" to="FEXIT">
      <inherit name="downdirection" />
      <FEXIT />
      <runscript />
      <script type="script">
        // TO MAZE_5
        MAZE_DIODES
      </script>
    </exit>
    <exit alias="southwest" to="MAZE_11">
      <inherit name="southwestdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="MAZE_13">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="up" to="MAZE_9">
      <inherit name="updirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="DEAD_END_4">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="DEAD_END_4">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Dead End</alias>
    <LDESC>You have come to a dead end in the maze.</LDESC>
    <dark />
    <RLANDBIT />
    <MAZEBIT />
    <exit alias="south" to="MAZE_12">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="MAZE_13">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Maze</alias>
    <LDESC>This is part of a maze of twisty little passages, all alike.</LDESC>
    <dark />
    <RLANDBIT />
    <MAZEBIT />
    <exit alias="east" to="MAZE_9">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="MAZE_12">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="MAZE_10">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="MAZE_11">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="MAZE_14">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <LDESC>This is part of a maze of twisty little passages, all alike.</LDESC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Maze</alias>
    <dark />
    <RLANDBIT />
    <MAZEBIT />
    <exit alias="west" to="MAZE_15">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="northwest" to="MAZE_14">
      <inherit name="northwestdirection" />
      <UEXIT />
    </exit>
    <exit alias="northeast" to="MAZE_7">
      <inherit name="northeastdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="MAZE_7">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="MAZE_15">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <alias>Maze</alias>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <LDESC>This is part of a maze of twisty little passages, all alike.</LDESC>
    <dark />
    <RLANDBIT />
    <MAZEBIT />
    <exit alias="west" to="MAZE_14">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="MAZE_7">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="southeast" to="CYCLOPS_ROOM">
      <inherit name="southeastdirection" />
      <UEXIT />
    </exit>
  </object>

<!--
    SUBTITLE CYCLOPS AND HIDEAWAY
-->

  <object name="CYCLOPS_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <alias>Cyclops Room</alias>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <dark />
    <ACTION>CYCLOPS_ROOM_FCN</ACTION>
    <RLANDBIT />
    <GLOBAL>STAIRS</GLOBAL>
    <exit alias="northwest" to="MAZE_15">
      <inherit name="northwestdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="STRANGE_PASSAGE">
      <inherit name="eastdirection" />
      <CEXIT />
      <runscript />
      <script type="script">
        if (GLOBAL.MAGIC_FLAG) {
          GOTO (STRANGE_PASSAGE, true)
        }
        else {
          msg ("The east wall is solid rock.")
        }
      </script>
    </exit>
    <exit alias="up" to="TREASURE_ROOM">
      <inherit name="updirection" />
      <CEXIT />
      <runscript />
      <script type="script">
        if (GLOBAL.CYCLOPS_FLAG) {
          GOTO (TREASURE_ROOM, true)
        }
        else {
          msg ("The cyclops doesn't look like he'll let you past.")
        }
      </script>
    </exit>
  </object>

  <object name="STRANGE_PASSAGE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Strange passage</alias>
    <LDESC>This is a long passage. To the west is one entrance. On the east there is an old wooden door, with a large opening in it (about cyclops sized).</LDESC>
    <RLANDBIT />
    <dark />
    <exit alias="west" to="CYCLOPS_ROOM">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="in" to="CYCLOPS_ROOM">
      <inherit name="indirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="LIVING_ROOM">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="TREASURE_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <LDESC>This is a large room, whose east wall is solid granite. A number of discarded bags, which crumble at your touch, are scattered about on the floor. There is an exit down a staircase.</LDESC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Treasure Room</alias>
    <dark />
    <ACTION>TREASURE_ROOM_FCN</ACTION>
    <RLANDBIT />
    <VALUE type="int">25</VALUE>
    <GLOBAL>STAIRS</GLOBAL>
    <exit alias="down" to="CYCLOPS_ROOM">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
  </object>

<!--
    SUBTITLE RESERVOIR AREA
-->

  <object name="RESERVOIR_SOUTH">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Reservoir South</alias>
    <dark />
    <ACTION>RESERVOIR_SOUTH_FCN</ACTION>
    <RLANDBIT />
    <GLOBAL type="string"></GLOBAL>
    <PSEUDO>"LAKE" LAKE_PSEUDO "CHASM" CHASM_PSEUDO</PSEUDO>
    <exit alias="southeast" to="DEEP_CANYON">
      <inherit name="southeastdirection" />
      <UEXIT />
    </exit>
    <exit alias="southwest" to="CHASM_ROOM">
      <inherit name="southwestdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="DAM_ROOM">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="STREAM_VIEW">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="RESERVOIR">
      <inherit name="northdirection" />
      <CEXIT />
      <runscript />
      <script type="script">
        if (GLOBAL.LOW_TIDE) {
          GOTO (RESERVOIR, true)
        }
        else {
          msg ("You would drown.")
        }
      </script>
    </exit>
  </object>

  <object name="RESERVOIR">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Reservoir</alias>
    <dark />
    <ACTION>RESERVOIR_FCN</ACTION>
    <NONLANDBIT />
    <PSEUDO>"STREAM" STREAM_PSEUDO</PSEUDO>
    <GLOBAL>GLOBAL_WATER</GLOBAL>
    <exit alias="north" to="RESERVOIR_NORTH">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="RESERVOIR_SOUTH">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="up" to="IN_STREAM">
      <inherit name="updirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="IN_STREAM">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="NEXIT">
      <inherit name="downdirection" />
      <locked />
      <lockmessage>The dam blocks your way.</lockmessage>
      <NEXIT />
    </exit>
  </object>

  <object name="RESERVOIR_NORTH">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Reservoir North</alias>
    <dark />
    <ACTION>RESERVOIR_NORTH_FCN</ACTION>
    <RLANDBIT />
    <GLOBAL>GLOBAL_WATER STAIRS</GLOBAL>
    <PSEUDO>"LAKE" LAKE_PSEUDO</PSEUDO>
    <exit alias="north" to="ATLANTIS_ROOM">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="RESERVOIR">
      <inherit name="southdirection" />
      <CEXIT />
      <runscript />
      <script type="script">
        if (GLOBAL.LOW_TIDE) {
          GOTO (RESERVOIR, true)
        }
        else {
          msg ("You would drown.")
        }
      </script>
    </exit>
  </object>

  <object name="STREAM_VIEW">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Stream View</alias>
    <LDESC>You are standing on a path beside a gently flowing stream. The path follows the stream, which flows from west to east.</LDESC>
    <dark />
    <RLANDBIT />
    <GLOBAL>GLOBAL_WATER</GLOBAL>
    <PSEUDO>"STREAM" STREAM_PSEUDO</PSEUDO>
    <exit alias="east" to="RESERVOIR_SOUTH">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="NEXIT">
      <inherit name="westdirection" />
      <locked />
      <lockmessage>The stream emerges from a spot too small for you to enter.</lockmessage>
      <NEXIT />
      <scenery />
    </exit>
  </object>

  <object name="IN_STREAM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Stream</alias>
    <LDESC>You are on the gently flowing stream. The upstream route is too narrow to navigate, and the downstream route is invisible due to twisting walls. There is a narrow beach to land on.</LDESC>
    <dark />
    <NONLANDBIT />
    <GLOBAL>GLOBAL_WATER</GLOBAL>
    <PSEUDO>"STREAM" STREAM_PSEUDO</PSEUDO>
    <exit alias="up" to="NEXIT">
      <inherit name="updirection" />
      <locked />
      <lockmessage>The channel is too narrow.</lockmessage>
      <NEXIT />
      <scenery />
    </exit>
    <exit alias="west" to="NEXIT">
      <inherit name="westdirection" />
      <locked />
      <lockmessage>The channel is too narrow.</lockmessage>
      <NEXIT />
      <scenery />
    </exit>
    <exit alias="LAND" to="STREAM_VIEW">
      <UEXIT />
    </exit>
    <exit alias="down" to="RESERVOIR">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="RESERVOIR">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
  </object>

<!--
    SUBTITLE MIRROR ROOMS AND VICINITY
-->

  <object name="MIRROR_ROOM_1">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Mirror Room</alias>
    <dark />
    <ACTION>MIRROR_ROOM</ACTION>
    <RLANDBIT />
    <exit alias="north" to="COLD_PASSAGE">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="TWISTING_PASSAGE">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="SMALL_CAVE">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="MIRROR_ROOM_2">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Mirror Room</alias>
    <ACTION>MIRROR_ROOM</ACTION>
    <RLANDBIT />
    <ONBIT />
    <exit alias="west" to="WINDING_PASSAGE">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="NARROW_PASSAGE">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="TINY_CAVE">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>

  </object>

  <object name="SMALL_CAVE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Cave</alias>
    <LDESC>This is a tiny cave with entrances west and north, and a staircase leading down.</LDESC>
    <dark />
    <RLANDBIT />
    <GLOBAL>STAIRS</GLOBAL>
    <exit alias="north" to="MIRROR_ROOM_1">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="ATLANTIS_ROOM">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="ATLANTIS_ROOM">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="TWISTING_PASSAGE">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="TINY_CAVE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Cave</alias>
    <LDESC>This is a tiny cave with entrances west and north, and a dark, forbidding staircase leading down.</LDESC>
    <dark />
    <ACTION>CAVE2_ROOM</ACTION>
    <RLANDBIT />
    <GLOBAL>STAIRS</GLOBAL>
    <exit alias="north" to="MIRROR_ROOM_2">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="WINDING_PASSAGE">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="ENTRANCE_TO_HADES">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="COLD_PASSAGE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Cold Passage</alias>
    <LDESC>This is a cold and damp corridor where a long east-west passageway turns into a southward path.</LDESC>
    <dark />
    <RLANDBIT />
    <exit alias="south" to="MIRROR_ROOM_1">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="SLIDE_ROOM">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="NARROW_PASSAGE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <LDESC>This is a long and narrow corridor where a long north-south passageway briefly narrows even further.</LDESC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Narrow Passage</alias>
    <dark />
    <RLANDBIT />
    <exit alias="north" to="ROUND_ROOM">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="MIRROR_ROOM_2">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="WINDING_PASSAGE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Winding Passage</alias>
    <LDESC>This is a winding passage. It seems that there are only exits on the east and north.</LDESC>
    <dark />
    <RLANDBIT />
    <exit alias="north" to="MIRROR_ROOM_2">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="TINY_CAVE">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="TWISTING_PASSAGE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <LDESC>This is a winding passage. It seems that there are only exits on the east and north.</LDESC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Twisting Passage</alias>
    <dark />
    <RLANDBIT />
    <exit alias="north" to="MIRROR_ROOM_1">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="SMALL_CAVE">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="ATLANTIS_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Atlantis Room</alias>
    <LDESC>This is an ancient room, long under water. There is an exit to the south and a staircase leading up.</LDESC>
    <dark />
    <RLANDBIT />
    <GLOBAL>STAIRS</GLOBAL>
    <exit alias="up" to="SMALL_CAVE">
      <inherit name="updirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="RESERVOIR_NORTH">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
  </object>

<!--
    SUBTITLE ROUND ROOM AND VICINITY
-->

  <object name="EW_PASSAGE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>East-West Passage</alias>
    <LDESC>This is a narrow east-west passageway. There is a narrow stairway leading down at the north end of the room.</LDESC>
    <dark />
    <RLANDBIT />
    <VALUE type="int">5</VALUE>
    <GLOBAL>STAIRS</GLOBAL>
    <exit alias="east" to="ROUND_ROOM">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="TROLL_ROOM">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="CHASM_ROOM">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="CHASM_ROOM">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="ROUND_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <LDESC>This is a circular stone room with passages in all directions. Several of them have unfortunately been blocked by cave-ins.</LDESC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Round Room</alias>
    <dark />
    <RLANDBIT />
    <exit alias="east" to="LOUD_ROOM">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="EW_PASSAGE">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="NS_PASSAGE">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="NARROW_PASSAGE">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="southeast" to="ENGRAVINGS_CAVE">
      <inherit name="southeastdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="DEEP_CANYON">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Deep Canyon</alias>
    <dark />
    <RLANDBIT />
    <ACTION>DEEP_CANYON_F</ACTION>
    <GLOBAL>STAIRS</GLOBAL>
    <exit alias="northwest" to="RESERVOIR_SOUTH">
      <inherit name="northwestdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="DAM_ROOM">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="southwest" to="NS_PASSAGE">
      <inherit name="southwestdirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="LOUD_ROOM">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="DAMP_CAVE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Damp Cave</alias>
    <LDESC>This cave has exits to the west and east, and narrows to a crack toward the south. The earth is particularly damp here.</LDESC>
    <dark />
    <RLANDBIT />
    <GLOBAL>CRACK</GLOBAL>
    <exit alias="west" to="LOUD_ROOM">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="WHITE_CLIFFS_NORTH">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="NEXIT">
      <inherit name="southdirection" />
      <locked />
      <lockmessage>It is too narrow for most insects.</lockmessage>
      <NEXIT />
      <scenery />
    </exit>
  </object>

  <object name="LOUD_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Loud Room</alias>
    <dark />
    <ACTION>LOUD_ROOM_FCN</ACTION>
    <RLANDBIT />
    <GLOBAL>STAIRS</GLOBAL>
    <description type="script">
      // from LOUD_ROOM_FCN
      Log("LOUD_ROOM description script running!!!")
      TELL ("This is a large room with a ceiling which cannot be detected from the ground. There is a narrow passage from east to west and a stone stairway leading upward.")
      if (GLOBAL.LOUD_FLAG or (GLOBAL.LOW_TIDE and not GLOBAL.GATES_OPEN)) {
        TELL (" The room is eerie in its quietness.")
      }
      else {
        TELL (" The room is deafeningly loud with an undetermined rushing sound. The sound seems to reverberate from all of the walls, making it difficult even to think.")
      }
      CRLF
    </description>
    <exit alias="east" to="DAMP_CAVE">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="ROUND_ROOM">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="up" to="DEEP_CANYON">
      <inherit name="updirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="NS_PASSAGE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>North-South Passage</alias>
    <LDESC>This is a high north-south passage, which forks to the northeast.</LDESC>
    <dark />
    <RLANDBIT />
    <exit alias="north" to="CHASM_ROOM">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="northeast" to="DEEP_CANYON">
      <inherit name="northeastdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="ROUND_ROOM">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="CHASM_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <LDESC>A chasm runs southwest to northeast and the path follows it. You are on the south side of the chasm, where a crack opens into a passage.</LDESC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Chasm</alias>
    <dark />
    <RLANDBIT />
    <GLOBAL>CRACK STAIRS</GLOBAL>
    <PSEUDO>"CHASM" CHASM_PSEUDO</PSEUDO>
    <exit alias="northeast" to="RESERVOIR_SOUTH">
      <inherit name="northeastdirection" />
      <UEXIT />
    </exit>
    <exit alias="southwest" to="EW_PASSAGE">
      <inherit name="southwestdirection" />
      <UEXIT />
    </exit>
    <exit alias="up" to="EW_PASSAGE">
      <inherit name="updirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="NS_PASSAGE">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="NEXIT">
      <inherit name="downdirection" />
      <locked />
      <lockmessage>Are you out of your mind?</lockmessage>
      <NEXIT />
      <scenery />
    </exit>
  </object>

<!--
    SUBTITLE HADES ET AL
-->

  <object name="ENTRANCE_TO_HADES">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Entrance to Hades</alias>
    <ACTION>LLD_ROOM</ACTION>
    <RLANDBIT />
    <ONBIT />
    <GLOBAL>BODIES</GLOBAL>
    <PSEUDO>"GATE" GATE_PSEUDO "GATES" GATE_PSEUDO</PSEUDO>
    <exit alias="up" to="TINY_CAVE">
      <inherit name="updirection" />
      <UEXIT />
    </exit>
    <exit alias="in" to="LAND_OF_LIVING_DEAD">
      <inherit name="indirection" />
      <CEXIT />
      <runscript />
      <script type="script">
        if (GLOBAL.LLD_FLAG) {
          GOTO (LAND_OF_LIVING_DEAD, true)
        }
        else {
          msg ("Some invisible force prevents you from passing through the gate.")
        }
      </script>
    </exit>
    <exit alias="south" to="LAND_OF_LIVING_DEAD">
      <inherit name="southdirection" />
      <CEXIT />
      <runscript />
      <script type="script">
        if (GLOBAL.LLD_FLAG) {
          GOTO (LAND_OF_LIVING_DEAD, true)
        }
        else {
          msg ("Some invisible force prevents you from passing through the gate.")
        }
      </script>
    </exit>
  </object>

  <object name="LAND_OF_LIVING_DEAD">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <alias>Land of the Dead</alias>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <LDESC>You have entered the Land of the Living Dead. Thousands of lost souls can be heard weeping and moaning. In the corner are stacked the remains of dozens of previous adventurers less fortunate than yourself. A passage exits to the north.</LDESC>
    <RLANDBIT />
    <ONBIT />
    <GLOBAL>BODIES</GLOBAL>
    <exit alias="out" to="ENTRANCE_TO_HADES">
      <inherit name="outdirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="ENTRANCE_TO_HADES">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
  </object>

<!--
    SUBTITLE DOME, TEMPLE, EGYPT
-->

  <object name="ENGRAVINGS_CAVE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <LDESC>You have entered a low cave with passages leading northwest and east.</LDESC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Engravings Cave</alias>
    <dark />
    <RLANDBIT />
    <exit alias="northwest" to="ROUND_ROOM">
      <inherit name="northwestdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="DOME_ROOM">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="EGYPT_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Egyptian Room</alias>
    <LDESC>This is a room which looks like an Egyptian tomb. There is an ascending staircase to the west.</LDESC>
    <dark />
    <RLANDBIT />
    <GLOBAL>STAIRS</GLOBAL>
    <exit alias="west" to="NORTH_TEMPLE">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="up" to="NORTH_TEMPLE">
      <inherit name="updirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="DOME_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Dome Room</alias>
    <dark />
    <ACTION>DOME_ROOM_FCN</ACTION>
    <RLANDBIT />
    <PSEUDO>"DOME" DOME_PSEUDO</PSEUDO>
    <exit alias="west" to="ENGRAVINGS_CAVE">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="TORCH_ROOM">
      <inherit name="downdirection" />
      <runscript />
      <script type="script">
        if (GLOBAL.DOME_FLAG) {
          GOTO (this.to, true)
        }
        else {
          msg ("You cannot go down without fracturing many bones.")
        }
      </script>
    </exit>
  </object>

  <object name="TORCH_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Torch Room</alias>
    <dark />
    <ACTION>TORCH_ROOM_FCN</ACTION>
    <RLANDBIT />
    <GLOBAL>STAIRS</GLOBAL>
    <PSEUDO>"DOME" DOME_PSEUDO</PSEUDO>
    <exit alias="up" to="NEXIT">
      <inherit name="updirection" />
      <locked />
      <lockmessage>You cannot reach the rope.</lockmessage>
      <NEXIT />
      <scenery />
    </exit>
    <exit alias="south" to="NORTH_TEMPLE">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="NORTH_TEMPLE">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="NORTH_TEMPLE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Temple</alias>
    <LDESC>This is the north end of a large temple. On the east wall is an ancient inscription, probably a prayer in a long-forgotten language. Below the prayer is a staircase leading down. The west wall is solid granite. The exit to the north end of the room is through huge marble pillars.</LDESC>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <GLOBAL>STAIRS</GLOBAL>
    <exit alias="down" to="EGYPT_ROOM">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="EGYPT_ROOM">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="TORCH_ROOM">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="out" to="TORCH_ROOM">
      <inherit name="outdirection" />
      <UEXIT />
    </exit>
    <exit alias="up" to="TORCH_ROOM">
      <inherit name="updirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="SOUTH_TEMPLE">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="SOUTH_TEMPLE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Altar</alias>
    <LDESC>This is the south end of a large temple. In front of you is what appears to be an altar. In one corner is a small hole in the floor which leads into darkness. You probably could not get back up it.</LDESC>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <ACTION>SOUTH_TEMPLE_FCN</ACTION>
    <exit alias="north" to="NORTH_TEMPLE">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="TINY_CAVE">
      <inherit name="downdirection" />
      <CEXIT />
      <runscript />
      <script type="script">
        dLog("SOUTH_TEMPLE  -down to- TINY_CAVE:")
        dLog("COFFIN_CURE: " + GLOBAL.COFFIN_CURE)
        if (GLOBAL.COFFIN_CURE) {
          GOTO (this.to, true)
        }
        else {
          msg ("You haven't a prayer of getting the coffin down there.")
        }
      </script>
    </exit>
  </object>

<!--
    SUBTITLE FLOOD CONTROL DAM #3
-->

  <object name="DAM_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Dam</alias>
    <ACTION>DAM_ROOM_FCN</ACTION>
    <RLANDBIT />
    <ONBIT />
    <GLOBAL>GLOBAL_WATER</GLOBAL>
    <exit alias="south" to="DEEP_CANYON">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="DAM_BASE">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="DAM_BASE">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="DAM_LOBBY">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="RESERVOIR_SOUTH">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="DAM_LOBBY">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <alias>Dam Lobby</alias>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <LDESC>This room appears to have been the waiting room for groups touring the dam. There are open doorways here to the north and east marked "Private", and there is a path leading south over the top of the dam.</LDESC>
    <RLANDBIT />
    <ONBIT />
    <exit alias="south" to="DAM_ROOM">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="MAINTENANCE_ROOM">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="MAINTENANCE_ROOM">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="MAINTENANCE_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Maintenance Room</alias>
    <LDESC>This is what appears to have been the maintenance room for Flood Control Dam #3. Apparently, this room has been ransacked recently, for most of the valuable equipment is gone. On the wall in front of you is a group of buttons colored blue, yellow, brown, and red. There are doorways to the west and south.</LDESC>
    <dark />
    <RLANDBIT />
    <exit alias="south" to="DAM_LOBBY">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="DAM_LOBBY">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
  </object>

<!--
    SUBTITLE RIVER AREA
-->

  <object name="DAM_BASE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Dam Base</alias>
    <LDESC>You are at the base of Flood Control Dam #3, which looms above you and to the north. The river Frigid is flowing by here. Along the river are the White Cliffs which seem to form giant walls stretching from north to south along the shores of the river as it winds its way downstream.</LDESC>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <GLOBAL>GLOBAL_WATER RIVER</GLOBAL>
    <exit alias="north" to="DAM_ROOM">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="up" to="DAM_ROOM">
      <inherit name="updirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="RIVER_1">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Frigid River</alias>
    <LDESC>You are on the Frigid River in the vicinity of the Dam. The river flows quietly here. There is a landing on the west shore.</LDESC>
    <NONLANDBIT />
    <SACREDBIT />
    <ONBIT />
    <GLOBAL>GLOBAL_WATER RIVER</GLOBAL>
    <exit alias="up" to="NEXIT">
      <inherit name="updirection" />
      <locked />
      <lockmessage>You cannot go upstream due to strong currents.</lockmessage>
      <NEXIT />
    </exit>
    <exit alias="west" to="DAM_BASE">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="LAND" to="DAM_BASE">
      <UEXIT />
    </exit>
    <exit alias="down" to="RIVER_2">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="NEXIT">
      <inherit name="eastdirection" />
      <locked />
      <lockmessage>The White Cliffs prevent your landing here.</lockmessage>
      <NEXIT />
      <scenery />
    </exit>
  </object>

  <object name="RIVER_2">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <alias>Frigid River</alias>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <LDESC>The river turns a corner here making it impossible to see the Dam. The White Cliffs loom on the east bank and large rocks prevent landing on the west.</LDESC>
    <dark />
    <NONLANDBIT />
    <SACREDBIT />
    <GLOBAL>GLOBAL_WATER RIVER</GLOBAL>
    <exit alias="up" to="NEXIT">
      <inherit name="updirection" />
      <locked />
      <lockmessage>You cannot go upstream due to strong currents.</lockmessage>
      <NEXIT />
      <scenery />
    </exit>
    <exit alias="down" to="RIVER_3">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
    <exit alias="LAND" to="NEXIT">
      <locked />
      <lockmessage>There is no safe landing spot here.</lockmessage>
      <NEXIT />
      <scenery />
    </exit>
    <exit alias="east" to="NEXIT">
      <inherit name="eastdirection" />
      <locked />
      <lockmessage>The White Cliffs prevent your landing here.</lockmessage>
      <NEXIT />
      <scenery />
    </exit>
    <exit alias="west" to="NEXIT">
      <inherit name="westdirection" />
      <locked />
      <lockmessage>Just in time you steer away from the rocks.</lockmessage>
      <NEXIT />
      <scenery />
    </exit>
  </object>

  <object name="RIVER_3">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Frigid River</alias>
    <LDESC>The river descends here into a valley. There is a narrow beach on the west shore below the cliffs. In the distance a faint rumbling can be heard.</LDESC>
    <dark />
    <NONLANDBIT />
    <SACREDBIT />
    <GLOBAL>GLOBAL_WATER RIVER</GLOBAL>
    <exit alias="up" to="NEXIT">
      <inherit name="updirection" />
      <scenery />
      <locked />
      <lockmessage>You cannot go upstream due to strong currents.</lockmessage>
      <NEXIT />
    </exit>
    <exit alias="down" to="RIVER_4">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
    <exit alias="LAND" to="WHITE_CLIFFS_NORTH">
      <UEXIT />
    </exit>
    <exit alias="west" to="WHITE_CLIFFS_NORTH">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="WHITE_CLIFFS_NORTH">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>White Cliffs Beach</alias>
    <LDESC>You are on a narrow strip of beach which runs along the base of the White Cliffs. There is a narrow path heading south along the Cliffs and a tight passage leading west into the cliffs themselves.</LDESC>
    <dark />
    <ACTION>WHITE_CLIFFS_FUNCTION</ACTION>
    <RLANDBIT />
    <SACREDBIT />
    <GLOBAL>GLOBAL_WATER WHITE_CLIFF RIVER</GLOBAL>
    <exit alias="south" to="WHITE_CLIFFS_SOUTH">
      <inherit name="southdirection" />
      <CEXIT />
      <runscript />
      <script type="script">
        if (GLOBAL.DEFLATE) {
          GOTO (this.to, true)
        }
        else {
          msg ("The path is too narrow.")
        }
      </script>
    </exit>
    <exit alias="west" to="DAMP_CAVE">
      <inherit name="westdirection" />
      <CEXIT />
      <runscript />
      <script type="script">
        if (GLOBAL.DEFLATE) {
          GOTO (this.to, true)
        }
        else {
          msg ("The path is too narrow.")
        }
      </script>
    </exit>
  </object>

  <object name="WHITE_CLIFFS_SOUTH">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <LDESC>You are on a rocky, narrow strip of beach beside the Cliffs. A narrow path leads north along the shore.</LDESC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>White Cliffs Beach</alias>
    <dark />
    <ACTION>WHITE_CLIFFS_FUNCTION</ACTION>
    <RLANDBIT />
    <SACREDBIT />
    <GLOBAL>GLOBAL_WATER WHITE_CLIFF RIVER</GLOBAL>
    <exit alias="north" to="WHITE_CLIFFS_NORTH">
      <inherit name="northdirection" />
      <CEXIT />
      <runscript />
      <script type="script">
        if (GLOBAL.DEFLATE) {
          GOTO (this.to, true)
        }
        else {
          msg ("The path is too narrow.")
        }
      </script>
    </exit>
  </object>

  <object name="RIVER_4">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Frigid River</alias>
    <LDESC>The river is running faster here and the sound ahead appears to be that of rushing water. On the east shore is a sandy beach. A small area of beach can also be seen below the cliffs on the west shore.</LDESC>
    <dark />
    <ACTION>RIVR4_ROOM</ACTION>
    <NONLANDBIT />
    <SACREDBIT />
    <GLOBAL>GLOBAL_WATER RIVER</GLOBAL>
    <exit alias="up" to="NEXIT">
      <inherit name="updirection" />
      <locked />
      <lockmessage>You cannot go upstream due to strong currents.</lockmessage>
      <NEXIT />
      <scenery />
    </exit>
    <exit alias="down" to="RIVER_5">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
    <exit to="NEXIT">
      <scenery />
      <locked />
      <lockmessage>You can land either to the east or the west.</lockmessage>
      <NEXIT />
    </exit>
    <exit alias="west" to="WHITE_CLIFFS_SOUTH">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="SANDY_BEACH">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="RIVER_5">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Frigid River</alias>
    <LDESC>The sound of rushing water is nearly unbearable here. On the east shore is a large landing area</LDESC>
    <NONLANDBIT />
    <SACREDBIT />
    <ONBIT />
    <GLOBAL>GLOBAL_WATER RIVER</GLOBAL>
    <UEXIT />
    <exit alias="up" to="NEXIT">
      <inherit name="updirection" />
      <locked />
      <scenery />
      <lockmessage>You cannot go upstream due to strong currents.</lockmessage>
      <NEXIT />
    </exit>
    <exit alias="east" to="SHORE">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="LAND" to="SHORE" />
  </object>

  <object name="SHORE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Shore</alias>
    <LDESC>You are on the east shore of the river. The water here seems somewhat treacherous. A path travels from north to south here, the south end quickly turning around a sharp corner.</LDESC>
    <RLANDBIT />
    <SACREDBIT />
    <ONBIT />
    <GLOBAL>GLOBAL-WATER RIVER</GLOBAL>
    <exit alias="north" to="SANDY_BEACH">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="ARAGAIN_FALLS">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="SANDY_BEACH">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Sandy Beach</alias>
    <LDESC>You are on a large sandy beach on the east shore of the river, which is flowing quickly by. A path runs beside the river to the south here, and a passage is partially buried in sand to the northeast.</LDESC>
    <dark />
    <RLANDBIT />
    <SACREDBIT />
    <GLOBAL>GLOBAL_WATER RIVER</GLOBAL>
    <exit alias="northeast" to="SANDY_CAVE">
      <inherit name="northeastdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="SHORE">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="SANDY_CAVE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Sandy Cave</alias>
    <LDESC>This is a sand-filled cave whose exit is to the southwest.</LDESC>
    <dark />
    <RLANDBIT />
    <exit alias="southwest" to="SANDY_BEACH">
      <inherit name="southwestdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="ARAGAIN_FALLS">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Aragain Falls</alias>
    <ACTION>FALLS_ROOM</ACTION>
    <RLANDBIT />
    <SACREDBIT />
    <ONBIT />
    <GLOBAL>GLOBAL_WATER RIVER RAINBOW</GLOBAL>
    <exit alias="west" to="ON_RAINBOW">
      <inherit name="westdirection" />
      <CEXIT />
      <runscript />
      <script type="script">
        if (GLOBAL.RAINBOW_FLAG) {
          GOTO (this.to, true)
        }
        else {
          msg (Template("UnresolvedLocation"))
        }
      </script>
    </exit>
    <exit alias="down" to="NEXIT">
      <inherit name="downdirection" />
      <locked />
      <lockmessage>It's a long way...</lockmessage>
      <NEXIT />
      <scenery />
    </exit>
    <exit alias="north" to="SHORE">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="up" to="ON_RAINBOW">
      <inherit name="updirection" />
      <CEXIT />
      <runscript />
      <script type="script">
        if (GLOBAL.RAINBOW_FLAG) {
          GOTO (this.to, true)
        }
        else {
          msg (Template("UnresolvedLocation"))
        }
      </script>
    </exit>
  </object>

  <object name="ON_RAINBOW">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <alias>On the Rainbow</alias>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <LDESC>You are on top of a rainbow (I bet you never thought you would walk on a rainbow), with a magnificent view of the Falls. The rainbow travels east-west here.</LDESC>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <GLOBAL>RAINBOW</GLOBAL>
    <exit alias="west" to="END_OF_RAINBOW">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="ARAGAIN_FALLS">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="END_OF_RAINBOW">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>End of Rainbow</alias>
    <LDESC>You are on a small, rocky beach on the continuation of the Frigid River past the Falls. The beach is narrow due to the presence of the White Cliffs. The river canyon opens here and sunlight shines in from above. A rainbow crosses over the falls to the east and a narrow path continues to the southwest.</LDESC>
    <RLANDBIT />
    <ONBIT />
    <GLOBAL>GLOBAL_WATER RAINBOW RIVER</GLOBAL>
    <exit alias="up" to="ON_RAINBOW">
      <inherit name="updirection" />
      <CEXIT />
      <runscript />
      <script type="script">
        if (GLOBAL.RAINBOW_FLAG) {
          GOTO (this.to, true)
        }
        else {
          msg (Template("UnresolvedLocation"))
        }
      </script>
    </exit>
    <exit alias="northeast" to="ON_RAINBOW">
      <inherit name="northeastdirection" />
      <CEXIT />
      <runscript />
      <script type="script">
        if (GLOBAL.RAINBOW_FLAG) {
          GOTO (this.to, true)
        }
        else {
          msg (Template("UnresolvedLocation"))
        }
      </script>
    </exit>
    <exit alias="east" to="ON_RAINBOW">
      <inherit name="eastdirection" />
      <CEXIT />
      <runscript />
      <script type="script">
        if (GLOBAL.RAINBOW_FLAG) {
          GOTO (this.to, true)
        }
        else {
          msg (Template("UnresolvedLocation"))
        }
      </script>
    </exit>
    <exit alias="southwest" to="CANYON_BOTTOM">
      <inherit name="southwestdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="CANYON_BOTTOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <LDESC>You are beneath the walls of the river canyon which may be climbable here. The lesser part of the runoff of Aragain Falls flows by below. To the north is a narrow path.</LDESC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Canyon Bottom</alias>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <GLOBAL>GLOBAL_WATER CLIMBABLE_CLIFF RIVER</GLOBAL>
    <exit alias="up" to="CLIFF_MIDDLE">
      <inherit name="updirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="END_OF_RAINBOW">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="CLIFF_MIDDLE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Rocky Ledge</alias>
    <LDESC>You are on a ledge about halfway up the wall of the river canyon. You can see from here that the main flow from Aragain Falls twists along a passage which it is impossible for you to enter. Below you is the canyon bottom. Above you is more cliff, which appears climbable.</LDESC>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <GLOBAL>CLIMBABLE_CLIFF RIVER</GLOBAL>
    <exit alias="up" to="CANYON_VIEW">
      <inherit name="updirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="CANYON_BOTTOM">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="CANYON_VIEW">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Canyon View</alias>
    <LDESC>You are at the top of the Great Canyon on its west wall. From here there is a marvelous view of the canyon and parts of the Frigid River upstream. Across the canyon, the walls of the White Cliffs join the mighty ramparts of the Flathead Mountains to the east. Following the Canyon upstream to the north, Aragain Falls may be seen, complete with rainbow. The mighty Frigid River flows out from a great dark cavern. To the west and south can be seen an immense forest, stretching for miles around. A path leads northwest. It is possible to climb down into the canyon from here.</LDESC>
    <RLANDBIT />
    <ONBIT />
    <SACREDBIT />
    <GLOBAL>CLIMBABLE_CLIFF RIVER RAINBOW</GLOBAL>
    <ACTION>CANYON_VIEW_F</ACTION>
    <exit alias="east" to="CLIFF_MIDDLE">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="CLIFF_MIDDLE">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
    <exit alias="northwest" to="CLEARING">
      <inherit name="northwestdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="FOREST_3">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="NEXIT">
      <inherit name="southdirection" />
      <locked />
      <lockmessage>Storm-tossed trees block your way.</lockmessage>
      <NEXIT />
      <scenery />
    </exit>
  </object>

  <function name="CANYON_VIEW_F" parameters="RARG" type="boolean">
    if (VERB_P(V_LEAP) and GLOBAL.PRSO = NOTHING) {
      JIGS_UP ("Nice view, lousy place to jump.")
      return (true)
    }
    return (false)
  </function>

<!--
    SUBTITLE COAL MINE AREA
-->

  <object name="MINE_ENTRANCE">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Mine Entrance</alias>
    <LDESC>You are standing at the entrance of what might have been a coal mine. The shaft enters the west wall, and there is another exit on the south end of the room.</LDESC>
    <dark />
    <RLANDBIT />
    <exit alias="south" to="SLIDE_ROOM">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="in" to="SQUEEKY_ROOM">
      <inherit name="indirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="SQUEEKY_ROOM">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="SQUEEKY_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Squeaky Room</alias>
    <LDESC>You are in a small room. Strange squeaky sounds may be heard coming from the passage at the north end. You may also escape to the east.</LDESC>
    <dark />
    <RLANDBIT />
    <exit alias="north" to="BAT_ROOM">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="MINE_ENTRANCE">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="BAT_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Bat Room</alias>
    <dark />
    <ACTION>BATS_ROOM</ACTION>
    <RLANDBIT />
    <SACREDBIT />
    <exit alias="south" to="SQUEEKY_ROOM">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="SHAFT_ROOM">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="SHAFT_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Shaft Room</alias>
    <LDESC>This is a large room, in the middle of which is a small shaft descending through the floor into darkness below. To the west and the north are exits from this room. Constructed over the top of the shaft is a metal framework to which a heavy iron chain is attached.</LDESC>
    <dark />
    <RLANDBIT />
    <PSEUDO>"CHAIN" CHAIN_PSEUDO</PSEUDO>
    <exit alias="down" to="NEXIT">
      <inherit name="downdirection" />
      <locked />
      <lockmessage>You wouldn't fit and would die if you could.</lockmessage>
      <NEXIT />
      <scenery />
    </exit>
    <exit alias="west" to="BAT_ROOM">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="SMELLY_ROOM">
      <inherit name="northdirection" />
    </exit>
  </object>

  <object name="SMELLY_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Smelly Room</alias>
    <LDESC>This is a small nondescript room. However, from the direction of a small descending staircase a foul odor can be detected. To the south is a narrow tunnel.</LDESC>
    <dark />
    <RLANDBIT />
    <GLOBAL>STAIRS</GLOBAL>
    <PSEUDO>"ODOR" GAS_PSEUDO "GAS" GAS_PSEUDO</PSEUDO>
    <exit alias="down" to="GAS_ROOM">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="SHAFT_ROOM">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="GAS_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Gas Room</alias>
    <LDESC>This is a small room which smells strongly of coal gas. There is a short climb up some stairs and a narrow tunnel leading east.</LDESC>
    <dark />
    <ACTION>BOOM_ROOM</ACTION>
    <RLANDBIT />
    <SACREDBIT />
    <GLOBAL>STAIRS</GLOBAL>
    <PSEUDO>"GAS" GAS_PSEUDO "ODOR" GAS_PSEUDO</PSEUDO>
    <exit alias="up" to="SMELLY_ROOM">
      <inherit name="updirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="MINE_1">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="LADDER_TOP">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Ladder Top</alias>
    <LDESC>This is a very small room. In the corner is a rickety wooden ladder, leading downward. It might be safe to descend. There is also a staircase leading upward.</LDESC>
    <dark />
    <RLANDBIT />
    <GLOBAL>LADDER STAIRS</GLOBAL>
    <exit alias="down" to="LADDER_BOTTOM">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
    <exit alias="up" to="MINE_4">
      <inherit name="updirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="LADDER_BOTTOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Ladder Bottom</alias>
    <LDESC>This is a rather wide room. On one side is the bottom of a narrow wooden ladder. To the west and the south are passages leaving the room.</LDESC>
    <dark />
    <RLANDBIT />
    <GLOBAL>LADDER</GLOBAL>
    <exit alias="south" to="DEAD_END_5">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="TIMBER_ROOM">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="up" to="LADDER_TOP">
      <inherit name="updirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="DEAD_END_5">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Dead End</alias>
    <LDESC>You have come to a dead end in the mine.</LDESC>
    <dark />
    <RLANDBIT />
    <exit alias="north" to="LADDER_BOTTOM">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="TIMBER_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Timber Room</alias>
    <LDESC>This is a long and narrow passage, which is cluttered with broken timbers. A wide passage comes from the east and turns at the west end of the room into a very narrow passageway. From the west comes a strong draft.</LDESC>
    <dark />
    <ACTION>NO_OBJS</ACTION>
    <RLANDBIT />
    <SACREDBIT />
    <exit alias="east" to="LADDER_BOTTOM">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="LOWER_SHAFT">
      <inherit name="westdirection" />
      <CEXIT />
      <runscript />
      <script type="script">
        if (GLOBAL.EMPTY_HANDED) {
          GOTO (this.to, true)
        }
        else {
          msg ("You cannot fit through this passage with that load.")
        }
      </script>
    </exit>
 </object>

  <object name="LOWER_SHAFT">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Drafty Room</alias>
    <LDESC>This is a small drafty room in which is the bottom of a long shaft. To the south is a passageway and to the east a very narrow passage. In the shaft can be seen a heavy iron chain.</LDESC>
    <dark />
    <ACTION>NO_OBJS</ACTION>
    <RLANDBIT />
    <SACREDBIT />
    <PSEUDO>"CHAIN" CHAIN_PSEUDO</PSEUDO>
    <exit alias="south" to="MACHINE_ROOM">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="out" to="TIMBER_ROOM">
      <inherit name="outdirection" />
      <CEXIT />
      <runscript />
      <script type="script">
        if (GLOBAL.EMPTY_HANDED) {
          GOTO (this.to, true)
        }
        else {
          msg ("You cannot fit through this passage with that load.")
        }
      </script>
    </exit>
    <exit alias="east" to="TIMBER_ROOM">
      <inherit name="eastdirection" />
      <CEXIT />
      <runscript />
      <script type="script">
        if (GLOBAL.EMPTY_HANDED) {
          GOTO (this.to, true)
        }
        else {
          msg ("You cannot fit through this passage with that load.")
        }
      </script>
    </exit>
  </object>

  <object name="MACHINE_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <alias>Machine Room</alias>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <dark />
    <ACTION>MACHINE_ROOM_FCN</ACTION>
    <RLANDBIT />
    <exit alias="north" to="LOWER_SHAFT">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
  </object>

<!--
    SUBTITLE COAL MINE
-->

  <object name="MINE_1">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <alias>Coal Mine</alias>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <LDESC>This is a nondescript part of a coal mine.</LDESC>
    <dark />
    <RLANDBIT />
    <exit alias="north" to="GAS_ROOM">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="MINE_1">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="northeast" to="MINE_2">
      <inherit name="northeastdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="MINE_2">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Coal Mine</alias>
    <LDESC>This is a nondescript part of a coal mine.</LDESC>
    <dark />
    <RLANDBIT />
    <exit alias="north" to="MINE_2">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="south" to="MINE_1">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="southeast" to="MINE_3">
      <inherit name="southeastdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="MINE_3">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Coal Mine</alias>
    <LDESC>This is a nondescript part of a coal mine.</LDESC>
    <dark />
    <RLANDBIT />
    <exit alias="south" to="MINE_3">
      <inherit name="southdirection" />
      <UEXIT />
    </exit>
    <exit alias="southwest" to="MINE_4">
      <inherit name="southwestdirection" />
      <UEXIT />
    </exit>
    <exit alias="east" to="MINE_2">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="MINE_4">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Coal Mine</alias>
    <LDESC>This is a nondescript part of a coal mine.</LDESC>
    <dark />
    <RLANDBIT />
    <exit alias="north" to="MINE_3">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="west" to="MINE_4">
      <inherit name="westdirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="LADDER_TOP">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
  </object>

  <object name="SLIDE_ROOM">
    <inherit name="editor_room" />
    <parent type="object">ROOMS</parent>
    <LOC type="object">ROOMS</LOC>
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <alias>Slide Room</alias>
    <LDESC>This is a small chamber, which appears to have been part of a coal mine. On the south wall of the chamber the letters "Granite Wall" are etched in the rock. To the east is a long passage, and there is a steep metal slide twisting downward. To the north is a small opening.</LDESC>
    <dark />
    <RLANDBIT />
    <GLOBAL>SLIDE</GLOBAL>
    <exit alias="east" to="COLD_PASSAGE">
      <inherit name="eastdirection" />
      <UEXIT />
    </exit>
    <exit alias="north" to="MINE_ENTRANCE">
      <inherit name="northdirection" />
      <UEXIT />
    </exit>
    <exit alias="down" to="CELLAR">
      <inherit name="downdirection" />
      <UEXIT />
    </exit>
  </object>

<!--
    ;"All globals (and constants) are attributes of an object named GLOBAL."
    
    ;"See the file z1globals.aslx."


  ;"RANDOM TABLES FOR WALK-AROUND"

  <GLOBAL HOUSE-AROUND
    <LTABLE (PURE) WEST-OF-HOUSE NORTH-OF-HOUSE EAST-OF-HOUSE SOUTH-OF-HOUSE
      WEST-OF-HOUSE>>

  <GLOBAL FOREST-AROUND
    <LTABLE (PURE) FOREST-1 FOREST-2 FOREST-3 PATH CLEARING FOREST-1>>

  <GLOBAL IN-HOUSE-AROUND
    <LTABLE (PURE) LIVING-ROOM KITCHEN ATTIC KITCHEN>>

  <GLOBAL ABOVE-GROUND
    <LTABLE (PURE) WEST-OF-HOUSE NORTH-OF-HOUSE EAST-OF-HOUSE SOUTH-OF-HOUSE
      FOREST-1 FOREST-2 FOREST-3 PATH CLEARING GRATING-CLEARING
      CANYON-VIEW>>
-->

<!--
    ;"The GO routine must live here."
    (NOT TRUE IN THIS PORT, BUT MEH)
-->

  <function name="GO"><![CDATA[
    ENABLE (QUEUE (I_FIGHT, -1))
    QUEUE (I_SWORD, -1)
    ENABLE (QUEUE (I_THIEF, -1))
    QUEUE (I_CANDLES, 40)
    QUEUE (I_LANTERN, 200)
    INFLATED_BOAT.VTYPE = "NONLANDBIT"
    PUT (GLOBAL.DEF1_RES, 1, REST(GLOBAL.DEF1,2))
    PUT (GLOBAL.DEF1_RES, 2, REST(GLOBAL.DEF1, 4))
    PUT (GLOBAL.DEF2_RES, 2, REST(GLOBAL.DEF2B, 2))
    PUT (GLOBAL.DEF2_RES, 3, REST(GLOBAL.DEF2B, 4))
    PUT (GLOBAL.DEF3_RES, 1, REST(GLOBAL.DEF3A, 2))
    PUT (GLOBAL.DEF3_RES, 3, REST(GLOBAL.DEF3B, 2))
    GLOBAL.HERE = WEST_OF_HOUSE
    GLOBAL.changedHERE => {
      game.pov.parent = GLOBAL.HERE
    }
    THIS_IS_IT (MAILBOX)
    //msg ("<b style=\"font-size:125%;\">" + game.gamename + "</b>")
    //msg ("<div style=\"font-size:88%;\">" + game.description + "<br/>Version " + game.version + "</div>")
    invoke (V_VERSION.script)
    CRLF
    GLOBAL.LIT = true
    GLOBAL.WINNER = game.pov
    GLOBAL.PLAYER = GLOBAL.WINNER
    invoke (V_LOOK.script)
  ]]></function>

</library>